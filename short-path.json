{"version":2,"kind":"Notebook","sha256":"cce5afe377167709f42366b2c6754a4e51922f2aabb97ca825a63c1c5b7d2530","slug":"short-path","location":"/short_path.md","dependencies":[],"frontmatter":{"title":"Shortest Paths","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.16.7"}},"content_includes_title":true,"authors":[{"nameParsed":{"literal":"Thomas J. Sargent","given":"Thomas J.","family":"Sargent"},"name":"Thomas J. Sargent","affiliations":["Professor of Economics, New York University.","Senior Fellow, Hoover Institution, Stanford, CA."],"url":"http://www.tomsargent.com","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"John Stachurski","given":"John","family":"Stachurski"},"name":"John Stachurski","email":"john.stachurski@gmail.com","affiliations":["Professor, Research School of Economics, ANU.","Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."],"url":"https://johnstachurski.net","id":"contributors-myst-generated-uid-1","corresponding":true}],"github":"https://github.com/QuantEcon/project.lecture-wasm","numbering":{"title":{"enabled":true,"offset":1},"heading_1":{"enabled":false},"figure":{"enabled":true,"template":"Fig. %s"},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"affiliations":[{"id":"Professor of Economics, New York University.","name":"Professor of Economics, New York University."},{"id":"Senior Fellow, Hoover Institution, Stanford, CA.","name":"Senior Fellow, Hoover Institution, Stanford, CA."},{"id":"Professor, Research School of Economics, ANU.","name":"Professor, Research School of Economics, ANU."},{"id":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota.","name":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."}],"source_url":"https://github.com/QuantEcon/project.lecture-wasm/blob/main/lectures/short_path.md","edit_url":"https://github.com/QuantEcon/project.lecture-wasm/edit/main/lectures/short_path.md","thumbnail":"/build/graph-79e7897e3b02e2a71a96078773c21293.png","exports":[{"format":"md","filename":"short_path.md","url":"/build/short_path-4dda181462aaa52f0cb0900a25d2571c.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"raw","lang":"html","value":"<div id=\"qe-notebook-header\" align=\"right\" style=\"text-align:right;\">\n        <a href=\"https://quantecon.org/\" title=\"quantecon.org\">\n                <img style=\"width:250px;display:inline;\" width=\"250px\" src=\"https://assets.quantecon.org/img/qe-menubar-logo.svg\" alt=\"QuantEcon\">\n        </a>\n</div>","label":"short_path","identifier":"short_path","html_id":"short-path","children":[{"type":"paragraph","children":[{"type":"text","value":"<div id=\"qe-notebook-header\" align=\"right\" style=\"text-align:right;\">\n        <a href=\"https://quantecon.org/\" title=\"quantecon.org\">\n                <img style=\"width:250px;display:inline;\" width=\"250px\" src=\"https://assets.quantecon.org/img/qe-menubar-logo.svg\" alt=\"QuantEcon\">\n        </a>\n</div>","key":"jRTmPjDSW2"}],"key":"vkM7FNXzV3"}],"key":"GYsVkwNPpp"},{"type":"heading","depth":1,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Shortest Paths","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"JF3laLnQfn"}],"identifier":"shortest-paths","label":"Shortest Paths","html_id":"shortest-paths","implicit":true,"enumerator":"31","key":"Io0oYWKtuF"},{"type":"heading","depth":2,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"gZy723IpdK"}],"indexEntries":[{"entry":"Dynamic Programming","subEntry":{"value":"Shortest Paths","kind":"entry"},"emphasis":false}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"enumerator":"31.1","key":"ig5W7LRBL3"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The shortest path problem is a ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"C5VpEZeFAu"},{"type":"link","url":"https://en.wikipedia.org/wiki/Shortest_path","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"classic problem","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"wuB1XtmYzT"}],"urlSource":"https://en.wikipedia.org/wiki/Shortest_path","data":{"page":"Shortest_path","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"NqLiU4qUgS"},{"type":"text","value":" in mathematics and computer science with applications in","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"eNoIvi7dtA"}],"key":"ISnGizwTHf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":32,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Economics (sequential decision making, analysis of social networks, etc.)","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"yRVptw2B6a"}],"key":"cLMjHOtKzK"}],"key":"FRij48cw3E"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Operations research and transportation","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"wpKqhpRZh2"}],"key":"QmOgQ0hVNh"}],"key":"Z1E0cZHMQ6"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Robotics and artificial intelligence","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KpASzoUcDL"}],"key":"HTGOum4Ces"}],"key":"AEQe0IoVge"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Telecommunication network design and routing","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"GW4ApbOMkh"}],"key":"HOuB96eJJf"}],"key":"pZR74PuzKA"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"etc., etc.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"gONgTzHVyC"}],"key":"ar2Tr0AxRX"}],"key":"wUNN42h7WF"}],"key":"hL7W3lxA92"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Variations of the methods we discuss in this lecture are used millions of times every day, in applications such as","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"jm6cBjrV41"}],"key":"TUbkg9OUz3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Google Maps","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"dcvRGMiej3"}],"key":"qEGOPRx8OI"}],"key":"EHWBmjRWQo"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"routing packets on the internet","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"hzcKg71ybf"}],"key":"lVMklxrizU"}],"key":"ybDNoytSdA"}],"key":"PSWc1aVVr3"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"For us, the shortest path problem also provides a nice introduction to the logic of ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"M3BReCX6qi"},{"type":"strong","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"dynamic programming","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RrrEui6vig"}],"key":"MpPfNdTJhh"},{"type":"text","value":".","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"g0r3F8x2JJ"}],"key":"Ne7ThnYPbo"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Dynamic programming is an extremely powerful optimization technique that we apply in many lectures on this site.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"x7Fa6Yww3c"}],"key":"sW5c8xcdEA"},{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"The only scientific library we’ll need in what follows is NumPy:","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"b4JT29KP81"}],"key":"jRi4Teq5Jw"}],"key":"xW552tyIwo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np","key":"yljpoC4noz"},{"type":"output","id":"s9z39JfShDCRD_iZ9XuVm","data":[],"key":"xlVX0clCHm"}],"key":"RxMi1npd6s"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Outline of the problem","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"EvwUWRv8AN"}],"identifier":"outline-of-the-problem","label":"Outline of the problem","html_id":"outline-of-the-problem","implicit":true,"enumerator":"31.2","key":"M7jTfo67NP"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"The shortest path problem is one of finding how to traverse a ","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"Vehf14LB9W"},{"type":"link","url":"https://en.wikipedia.org/wiki/Graph_%28mathematics%29","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"graph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"IRW4roGBzj"}],"urlSource":"https://en.wikipedia.org/wiki/Graph_%28mathematics%29","data":{"page":"Graph_%28mathematics%29","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"g9Su3g604G"},{"type":"text","value":" from one specified node to another at minimum cost.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"rFIT9de7Pq"}],"key":"g8OZeXKvd7"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Consider the following graph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"OhZqHA7JX2"}],"key":"fFWNiAZMpG"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/graph-79e7897e3b02e2a71a96078773c21293.png","key":"M0UN1ngNZ2","urlSource":"/_static/lecture_specific/short_path/graph.png"}],"enumerator":"1","key":"GSvnsfPjbU"},{"type":"paragraph","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"We wish to travel from node (vertex) A to node G at minimum cost","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"TX9t66NZ0V"}],"key":"pnqQ83Z0Cq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":65,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Arrows (edges) indicate the movements we can take.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"Putan9k0wM"}],"key":"Kan0ndAAKn"}],"key":"btYnpcNx0P"},{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Numbers on edges indicate the cost of traveling that edge.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"yA6tTswA0A"}],"key":"SMg947bBMe"}],"key":"bRdVb50ZTD"}],"key":"P8dIj167mH"},{"type":"paragraph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"(Graphs such as the one above are called weighted ","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"OBpQALL1RA"},{"type":"link","url":"https://en.wikipedia.org/wiki/Directed_graph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"directed graphs","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"SL2BZPQ8tC"}],"urlSource":"https://en.wikipedia.org/wiki/Directed_graph","data":{"page":"Directed_graph","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"SVXLGVrtxo"},{"type":"text","value":".)","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"O4i6nC3O9z"}],"key":"XxECG3xYOA"},{"type":"paragraph","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"text","value":"Possible interpretations of the graph include","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"ju3sjGeQjA"}],"key":"fVATvuDzGl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":72,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Minimum cost for supplier to reach a destination.","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"UEgoXtRIKh"}],"key":"CKf0MjKEs0"}],"key":"u629jXuYYF"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Routing of packets on the internet (minimize time).","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"YslA8HoMOe"}],"key":"Ocn1tEMTmI"}],"key":"ANves8IH7E"},{"type":"listItem","spread":true,"position":{"start":{"line":74,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"etc., etc.","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"pqyLZdBJON"}],"key":"xW2quwM5dv"}],"key":"dZN3cFxf5C"}],"key":"JL8U1t3Syu"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"For this simple graph, a quick scan of the edges shows that the optimal paths are","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"f8lLCOt6b9"}],"key":"a3m6wLanGO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":78,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":78,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A, C, F, G at cost 8","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"Z9YMobsFga"}],"key":"NKo3FIOTvR"}],"key":"bW1X3buiG6"}],"key":"PZSEscdDeO"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/graph4-3c647843ec835ad1b92395b1c22588eb.png","key":"nemKYQJlhH","urlSource":"/_static/lecture_specific/short_path/graph4.png"}],"enumerator":"2","key":"YMeWcom9SF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A, D, F, G at cost 8","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"V9x8zu6YcH"}],"key":"bGmLbPpM4e"}],"key":"maDQC8STCF"}],"key":"YjzCFdLpGV"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/graph3-72eeb6194385483f5c8d213e7579178f.png","key":"IuJeyv4vKu","urlSource":"/_static/lecture_specific/short_path/graph3.png"}],"enumerator":"3","key":"bUDTnoKfML"},{"type":"heading","depth":2,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"Finding least-cost paths","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"AoIIupRpGO"}],"identifier":"finding-least-cost-paths","label":"Finding least-cost paths","html_id":"finding-least-cost-paths","implicit":true,"enumerator":"31.3","key":"bHYHnQUvo2"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"For large graphs, we need a systematic solution.","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"eCTOFiZ47R"}],"key":"h6tNdlcpqb"},{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Let ","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"mXVVlYO2Xy"},{"type":"inlineMath","value":"J(v)","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">J(v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"CLl57qtFnV"},{"type":"text","value":" denote the minimum cost-to-go from node ","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"pO8ybpvbBN"},{"type":"inlineMath","value":"v","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"QaHmrDjrvd"},{"type":"text","value":", understood as the total cost from ","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"A7I1P2jV78"},{"type":"inlineMath","value":"v","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"JRRbYCdwAn"},{"type":"text","value":" if we take the best route.","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"pDeTFKFeAh"}],"key":"wtEQ93N7hj"},{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Suppose that we know ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"s8syx1QyOK"},{"type":"inlineMath","value":"J(v)","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">J(v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span></span></span></span>","key":"ybyBLjqACt"},{"type":"text","value":" for each node ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"eguekJsLtv"},{"type":"inlineMath","value":"v","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"sPDsJttIBc"},{"type":"text","value":", as shown below for the graph from the preceding example.","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"XvV76l6dPy"}],"key":"HeQcQP88GS"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/graph2-1d4710a3ba2712ea0e9dbae59dd0a861.png","key":"qKCChsjzUf","urlSource":"/_static/lecture_specific/short_path/graph2.png"}],"enumerator":"4","key":"Umro3tAL2d"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Note that ","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"gNxAfIbaIT"},{"type":"inlineMath","value":"J(G) = 0","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">J(G) = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">G</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"TIipr8ahRJ"},{"type":"text","value":".","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"Pr3zgFMIKo"}],"key":"BPT2PEfIf7"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"The best path can now be found as follows","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"B1ehBBg3XQ"}],"key":"oeoqL5qWQH"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":106,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Start at node ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"GmZTwljng9"},{"type":"inlineMath","value":"v = A","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">v = A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span>","key":"iXnaSMTeIY"}],"key":"LTviMB9GJ8"}],"key":"suQb6s3EMt"},{"type":"listItem","spread":true,"position":{"start":{"line":107,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"From current node ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"soTlmN2eMN"},{"type":"inlineMath","value":"v","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"FHZW1mboPf"},{"type":"text","value":", move to any node that solves","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"vNwm4CCpoq"}],"key":"HXZO7rsD5P"}],"key":"KA6rjDo43f"}],"key":"hJCMIaFFMg"},{"type":"math","value":"\\min_{w \\in F_v} \\{ c(v, w) + J(w) \\}","label":"spprebell","identifier":"spprebell","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>w</mi><mo>∈</mo><msub><mi>F</mi><mi>v</mi></msub></mrow></munder><mo stretchy=\"false\">{</mo><mi>c</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>J</mi><mo stretchy=\"false\">(</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\min_{w \\in F_v} \\{ c(v, w) + J(w) \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.5944em;vertical-align:-0.8444em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-2.3557em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">min</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8444em;\"><span></span></span></span></span></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">c</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)}</span></span></span></span></span>","enumerator":"1","html_id":"spprebell","key":"YnNvjhvXWm"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"where","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"BuVmf5IucQ"}],"key":"kdytAYE6Xj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":117,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"F_v","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>F</mi><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">F_v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"xGr9MvOsF3"},{"type":"text","value":" is the set of nodes that can be reached from ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"l1x2UzWMOm"},{"type":"inlineMath","value":"v","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"MHavO4ybQM"},{"type":"text","value":" in one step.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"w3lngi4SFG"}],"key":"mpzcody08O"}],"key":"zkGXcH93AW"},{"type":"listItem","spread":true,"position":{"start":{"line":118,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"c(v, w)","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">c(v, w)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span></span></span></span>","key":"qhcJ6kbHaH"},{"type":"text","value":" is the cost of traveling from ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"Mi7S4wTxPu"},{"type":"inlineMath","value":"v","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"vgzyTVKZy7"},{"type":"text","value":" to ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"jjZXm3raUM"},{"type":"inlineMath","value":"w","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>","key":"Xqq96hTkPq"},{"type":"text","value":".","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"mI7e8xcMDJ"}],"key":"ivcHdeqbBs"}],"key":"T9UFPT9kXs"}],"key":"CQUQlGCqTB"},{"type":"paragraph","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Hence, if we know the function ","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"Ko7HOQFoRk"},{"type":"inlineMath","value":"J","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"POPupya4iE"},{"type":"text","value":", then finding the best path is almost trivial.","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"Yr54NLIWWR"}],"key":"Fm4JlOvqXZ"},{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"But how can we find the cost-to-go function ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"Nbohoh2CIx"},{"type":"inlineMath","value":"J","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"NoblxkKc3S"},{"type":"text","value":"?","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"M3dKrlJYzP"}],"key":"EVDG4cO3Qq"},{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Some thought will convince you that, for every node ","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"oamL2yI6tD"},{"type":"inlineMath","value":"v","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"jqpbuBNC9R"},{"type":"text","value":",\nthe function ","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"nLOJuxElxX"},{"type":"inlineMath","value":"J","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"m7UrBmyX24"},{"type":"text","value":" satisfies","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"WLxV3QYdIZ"}],"key":"wGYbWHK8Jk"},{"type":"math","value":"J(v) = \\min_{w \\in F_v} \\{ c(v, w) + J(w) \\}","label":"spbell","identifier":"spbell","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>J</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>w</mi><mo>∈</mo><msub><mi>F</mi><mi>v</mi></msub></mrow></munder><mo stretchy=\"false\">{</mo><mi>c</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>J</mi><mo stretchy=\"false\">(</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">J(v) = \\min_{w \\in F_v} \\{ c(v, w) + J(w) \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.5944em;vertical-align:-0.8444em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-2.3557em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">min</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8444em;\"><span></span></span></span></span></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">c</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)}</span></span></span></span></span>","enumerator":"2","html_id":"spbell","key":"k5FMoA6QKV"},{"type":"paragraph","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"This is known as the ","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"oZxp7rK2Ui"},{"type":"strong","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Bellman equation","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"O1yiLCNTWo"}],"key":"olIA2YGzsI"},{"type":"text","value":", after the mathematician ","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"vDd1gzBdCg"},{"type":"link","url":"https://en.wikipedia.org/wiki/Richard_E._Bellman","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Richard Bellman","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"EEz6Gpyc21"}],"urlSource":"https://en.wikipedia.org/wiki/Richard_E._Bellman","data":{"page":"Richard_E._Bellman","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"l51jBNAT2Y"},{"type":"text","value":".","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"aJT33jt3nw"}],"key":"OccuahcwBv"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"The Bellman equation can be thought of as a restriction that ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"s1mbinPZSh"},{"type":"inlineMath","value":"J","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"lCHSQQkZjP"},{"type":"text","value":" must\nsatisfy.","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"GrWaoHlcR3"}],"key":"zHzkzjKaYl"},{"type":"paragraph","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"What we want to do now is use this restriction to compute ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"l3xJXLwtWk"},{"type":"inlineMath","value":"J","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"NjsQ3LUil6"},{"type":"text","value":".","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"TrCPNRhwp3"}],"key":"WryKRLc0jw"},{"type":"heading","depth":2,"position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Solving for minimum cost-to-go","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"M27C8XiwIC"}],"identifier":"solving-for-minimum-cost-to-go","label":"Solving for minimum cost-to-go","html_id":"solving-for-minimum-cost-to-go","implicit":true,"enumerator":"31.4","key":"hS02a0l0tC"},{"type":"paragraph","position":{"start":{"line":142,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"Let’s look at an algorithm for computing ","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"PxhwcJ8KFu"},{"type":"inlineMath","value":"J","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"OMImdYNnVj"},{"type":"text","value":" and then think about how to\nimplement it.","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"Mpt3YbByq9"}],"key":"PxZcXvtslh"},{"type":"heading","depth":3,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"The algorithm","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"VIUFJgnV4F"}],"identifier":"the-algorithm","label":"The algorithm","html_id":"the-algorithm","implicit":true,"enumerator":"31.4.1","key":"Dl88CePPHO"},{"type":"paragraph","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"The standard algorithm for finding ","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"Oub1aOKRc8"},{"type":"inlineMath","value":"J","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"SMVKZ9BZ6U"},{"type":"text","value":" is to start an initial guess and then iterate.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"kF7LpS84Xg"}],"key":"Nm2aOAT4CU"},{"type":"paragraph","position":{"start":{"line":149,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"This is a standard approach to solving nonlinear equations, often called\nthe method of ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"pJEy9WLv75"},{"type":"strong","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"successive approximations","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"UCP0usCREH"}],"key":"OnAmLDyGQK"},{"type":"text","value":".","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"u0lClGEnfi"}],"key":"a25amCojnD"},{"type":"paragraph","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Our initial guess will be","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"GTmYhga2wE"}],"key":"vVG2kSJlOe"},{"type":"math","value":"J_0(v) = 0 \\text{ for all } v","label":"spguess","identifier":"spguess","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>J</mi><mn>0</mn></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn><mtext> for all </mtext><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">J_0(v) = 0 \\text{ for all } v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> for all </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span>","enumerator":"3","html_id":"spguess","key":"F5hFC0slOn"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Now","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"z0XEPGaiHs"}],"key":"YRY1iF91UJ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":162,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"CuJqreMU69"},{"type":"inlineMath","value":"n = 0","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">n = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"WSLvCGyl80"}],"key":"IPDAECgdew"}],"key":"K29I9eFPD7"},{"type":"listItem","spread":true,"position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"vTDmuIAcrf"},{"type":"inlineMath","value":"J_{n+1} (v) = \\min_{w \\in F_v} \\{ c(v, w) + J_n(w) \\}","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>J</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">(</mo><mi>v</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>w</mi><mo>∈</mo><msub><mi>F</mi><mi>v</mi></msub></mrow></msub><mo stretchy=\"false\">{</mo><mi>c</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo>+</mo><msub><mi>J</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">J_{n+1} (v) = \\min_{w \\in F_v} \\{ c(v, w) + J_n(w) \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0001em;vertical-align:-0.2501em;\"></span><span class=\"mop\"><span class=\"mop\">min</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">c</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)}</span></span></span></span>","key":"RuOudtquQJ"},{"type":"text","value":" for all ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"yF9WA7H4A2"},{"type":"inlineMath","value":"v","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"N0W5t1BV0S"}],"key":"qmepA74t7J"}],"key":"CWOryS3yVo"},{"type":"listItem","spread":true,"position":{"start":{"line":164,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"rpM7Ohm14g"},{"type":"inlineMath","value":"J_{n+1}","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>J</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">J_{n+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>","key":"aDUgBt1dmZ"},{"type":"text","value":" and ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"zzAU1yQnPa"},{"type":"inlineMath","value":"J_n","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>J</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">J_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"PA1stQzN1k"},{"type":"text","value":" are not equal then increment ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"bfJReeGggv"},{"type":"inlineMath","value":"n","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"AiH8aZNryV"},{"type":"text","value":", go to 2","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"UfrRlobPwM"}],"key":"CUsT84xNf7"}],"key":"lCSL7NkzO6"}],"key":"PyLbuX70OI"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"This sequence converges to ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"vEJibr24Eo"},{"type":"inlineMath","value":"J","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"Mo95k63eaw"},{"type":"text","value":".","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"QZ3XyykMnO"}],"key":"wheoKnXrB2"},{"type":"paragraph","position":{"start":{"line":168,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Although we omit the proof, we’ll prove similar claims in our other lectures\non dynamic programming.","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"SAeGM0R1yf"}],"key":"RlxtBb9lLb"},{"type":"heading","depth":3,"position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"Implementation","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"HGacXNBZdk"}],"identifier":"implementation","label":"Implementation","html_id":"implementation","implicit":true,"enumerator":"31.4.2","key":"zpSa5YFI0V"},{"type":"paragraph","position":{"start":{"line":173,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Having an algorithm is a good start, but we also need to think about how to\nimplement it on a computer.","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"uiHR1z7kyd"}],"key":"RHlsGHPl39"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"First, for the cost function ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"lTnSUx9aSi"},{"type":"inlineMath","value":"c","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span>","key":"yckdaCiJTy"},{"type":"text","value":", we’ll implement it as a matrix\n","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"CNxl8UOXAD"},{"type":"inlineMath","value":"Q","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span>","key":"rMPZLXuiKQ"},{"type":"text","value":", where a typical element is","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"TpQzW6H597"}],"key":"M8JK5ssqj4"},{"type":"math","value":"Q(v, w)\n=\n\\begin{cases}\n   & c(v, w) \\text{ if } w \\in F_v \\\\\n   & +\\infty \\text{ otherwise }\n\\end{cases}","position":{"start":{"line":179,"column":1},"end":{"line":186,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Q</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.36em\" columnalign=\"left left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>c</mi><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>w</mi><mo stretchy=\"false\">)</mo><mtext> if </mtext><mi>w</mi><mo>∈</mo><msub><mi>F</mi><mi>v</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo>+</mo><mi mathvariant=\"normal\">∞</mi><mtext> otherwise </mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">Q(v, w)\n=\n\\begin{cases}\n   &amp; c(v, w) \\text{ if } w \\in F_v \\\\\n   &amp; +\\infty \\text{ otherwise }\n\\end{cases}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:1em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span><span class=\"mord text\"><span class=\"mord\"> if </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord\">+</span><span class=\"mord\">∞</span><span class=\"mord text\"><span class=\"mord\"> otherwise </span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"4","key":"RAQTJEa8LW"},{"type":"paragraph","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"In this context ","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"n9IjYRz4zj"},{"type":"inlineMath","value":"Q","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span>","key":"Re8zvXyVe9"},{"type":"text","value":" is usually called the ","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"aN8VSsN6NQ"},{"type":"strong","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"distance matrix","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"KHQ1vxdnHu"}],"key":"QqJg1w9yL1"},{"type":"text","value":".","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"d9VcGwfvVC"}],"key":"bj7Tg27k5h"},{"type":"paragraph","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"text","value":"We’re also numbering the nodes now, with ","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"jqIDxybe7t"},{"type":"inlineMath","value":"A = 0","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"dnlkNfOQNf"},{"type":"text","value":", so, for example","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"ctt7rZEKsZ"}],"key":"eCxjA8ln5x"},{"type":"math","value":"Q(1, 2)\n=\n\\text{ the cost of traveling from B to C }","position":{"start":{"line":192,"column":1},"end":{"line":196,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Q</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">)</mo><mo>=</mo><mtext> the cost of traveling from B to C </mtext></mrow><annotation encoding=\"application/x-tex\">Q(1, 2)\n=\n\\text{ the cost of traveling from B to C }</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\"> the cost of traveling from B to C </span></span></span></span></span></span>","enumerator":"5","key":"nYetPWjAae"},{"type":"paragraph","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"For example, for the simple graph above, we set","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"ehz1yncxtL"}],"key":"N4NufWWzaB"}],"key":"xzo0iYF0at"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from numpy import inf\n\nQ = np.array([[inf, 1,   5,   3,   inf, inf, inf],\n              [inf, inf, inf, 9,   6,   inf, inf],\n              [inf, inf, inf, inf, inf, 2,   inf],\n              [inf, inf, inf, inf, inf, 4,   8],\n              [inf, inf, inf, inf, inf, inf, 4],\n              [inf, inf, inf, inf, inf, inf, 1],\n              [inf, inf, inf, inf, inf, inf, 0]])","key":"W4VM0uqbsC"},{"type":"output","id":"JVs8zzWF0yWqnbWZXdVsr","data":[],"key":"ZAsRqPrY5j"}],"key":"zKxiDsZu7A"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"children":[{"type":"text","value":"Notice that the cost of staying still (on the principle diagonal) is set to","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"CmF5Mnf96T"}],"key":"ebjD8qGrRh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"np.inf","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"bqrpoFa63q"},{"type":"text","value":" for non-destination nodes --- moving on is required.","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"VZJpvxV4P5"}],"key":"mP3O9GZ01G"}],"key":"nj4BaetH1a"},{"type":"listItem","spread":true,"position":{"start":{"line":215,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"0 for the destination node --- here is where we stop.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"NEGWO0BJ77"}],"key":"EnERPPfAYb"}],"key":"IuvGHfRRKr"}],"key":"QnZQsu8IdV"},{"type":"paragraph","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"For the sequence of approximations ","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"eTuqc4sD7d"},{"type":"inlineMath","value":"\\{J_n\\}","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>J</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{J_n\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>","key":"l4PEISLFHQ"},{"type":"text","value":" of the cost-to-go functions, we can use NumPy arrays.","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"uvxoC1BMdo"}],"key":"bgiHPnk6i4"},{"type":"paragraph","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"text","value":"Let’s try with this example and see how we go:","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"mBwJn1ixYi"}],"key":"FM2WQgzKkl"}],"key":"dclcMWB069"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nodes = range(7)                              # Nodes = 0, 1, ..., 6\nJ = np.zeros_like(nodes, dtype=int)        # Initial guess\nnext_J = np.empty_like(nodes, dtype=int)   # Stores updated guess\n\nmax_iter = 500\ni = 0\n\nwhile i < max_iter:\n    for v in nodes:\n        # Minimize Q[v, w] + J[w] over all choices of w\n        next_J[v] = np.min(Q[v, :] + J)\n    \n    if np.array_equal(next_J, J):                \n        break\n    \n    J[:] = next_J                                # Copy contents of next_J to J\n    i += 1\n\nprint(\"The cost-to-go function is\", J)","key":"gjvEfR9KfK"},{"type":"output","id":"TP0zXXaF1cPYerB7fX3Do","data":[],"key":"lN7cI4aRrz"}],"key":"a3poIor1Qb"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"This matches with the numbers we obtained by inspection above.","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"KzZbu5RQwh"}],"key":"GMdOIx5l3k"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"But, importantly, we now have a methodology for tackling large graphs.","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"VruGysgPnN"}],"key":"YWvtCSMBTi"},{"type":"heading","depth":2,"position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"yJNUrshkwP"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"enumerator":"31.5","key":"Eps1Ad4eXt"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"The file data below describes a weighted directed graph.","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"zw0y4ioEZ8"}],"key":"l8IV5Uzq4B"},{"type":"paragraph","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"The line ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"kMy4Gf58dd"},{"type":"inlineCode","value":"node0, node1 0.04, node8 11.11, node14 72.21","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"QkwDR1Xjto"},{"type":"text","value":" means that from node0 we can go to","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"ianb0RVIQg"}],"key":"cdi2rMs0AA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":258,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"node1 at cost 0.04","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"yEgjw9GAqv"}],"key":"cxrLOFdW83"}],"key":"Kk27C4LmZb"},{"type":"listItem","spread":true,"position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"node8 at cost 11.11","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"qBR9cSbo4X"}],"key":"KjsKDb9P4D"}],"key":"ennhPy8pKB"},{"type":"listItem","spread":true,"position":{"start":{"line":260,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"node14 at cost 72.21","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"BWmnNlMiKt"}],"key":"Qf6jVzpT1x"}],"key":"OzU5YjSRBS"}],"key":"EV2PdD7bPy"},{"type":"paragraph","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"No other nodes can be reached directly from node0.","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"xsQTIEC0XX"}],"key":"XtmPfVFSH1"},{"type":"paragraph","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"Other lines have a similar interpretation.","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"Y4ovtfgd4O"}],"key":"lKorJVucr4"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Your task is to use the algorithm given above to find the optimal path and its cost.","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"J5qvFZ9HFT"}],"key":"YXyyozzRsa"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"EihvzZu9zR"}],"key":"fkgqtJEpme"},{"type":"paragraph","position":{"start":{"line":269,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"You will be dealing with floating point numbers now, rather than\nintegers, so consider replacing ","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"wWTX0JTVPU"},{"type":"inlineCode","value":"np.equal()","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"UIJFOMg3Rf"},{"type":"text","value":" with ","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"N0TdqyObza"},{"type":"inlineCode","value":"np.allclose()","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"wTuv7c3P8F"},{"type":"text","value":".","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"lK7RFzqwXS"}],"key":"HRdx2eqr7u"}],"key":"BkNVTvB3ak"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import requests\n\nfile_url = \"https://raw.githubusercontent.com/QuantEcon/lecture-python-intro/main/lectures/graph.txt\"\ngraph_file_response = requests.get(file_url)","key":"Hf6Ftglg2r"},{"type":"output","id":"Be5j1e-SsIl3ARZsCRHgh","data":[],"key":"IQ2jxE7Sfu"}],"key":"RjncFPUvPH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"graph_file_data = str(graph_file_response.content, 'utf-8')\nprint(graph_file_data)","key":"YmcEj6DLS2"},{"type":"output","id":"0DAkLHF3alc27WxyrM2SD","data":[],"key":"vXV0qKPgAK"}],"key":"x2Cvwu6y1r"}],"label":"short_path_ex1","identifier":"short_path_ex1","enumerated":true,"enumerator":"1","html_id":"short-path-ex1","key":"ThADELgscj"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"kP3L9z2jsT"},{"type":"crossReference","label":"short_path_ex1","identifier":"short_path_ex1","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"dsRjvQBJdy"},{"type":"text","value":"1","key":"PG0DikblHd"}],"template":"Exercise %s","enumerator":"1","resolved":true,"html_id":"short-path-ex1","key":"DxvMPqI2py"}],"key":"ZcUyVKe25F"}],"class":"dropdown","key":"yrCvP14pXE"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"First let’s write a function that reads in the graph data above and builds a distance matrix.","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"oNfReg5vPR"}],"key":"CUU4AtgpNF"}],"key":"faAL7kyjIA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"num_nodes = 100\ndestination_node = 99\n\ndef map_graph_to_distance_matrix(in_file_data):\n\n    # First let's set of the distance matrix Q with inf everywhere\n    Q = np.full((num_nodes, num_nodes), np.inf)\n\n    # Now we read in the data and modify Q\n    lines = in_file_data.split('\\n')\n    for line_ in lines:\n        line = line_.strip()\n        if line == '':\n            continue\n        elements = line.split(',')\n        node = elements.pop(0)\n        node = int(node[4:])    # convert node description to integer\n        if node != destination_node:\n            for element in elements:\n                destination, cost = element.split()\n                destination = int(destination[4:])\n                Q[node, destination] = float(cost)\n        Q[destination_node, destination_node] = 0\n    return Q","key":"jZWtT0nGH8"},{"type":"output","id":"wDQPNai3FhQDsWt0c-pPv","data":[],"key":"b7XGClVOtz"}],"key":"kBWHqq3fyb"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"In addition, let’s write","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"PJrPgnoSTS"}],"key":"qpMVJ650g8"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a “Bellman operator” function that takes a distance matrix and current guess of J and returns an updated guess of J, and","position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"key":"j9bxt8wKly"}],"key":"mboxWAoOIU"}],"key":"XfQCppMa3N"},{"type":"listItem","spread":true,"position":{"start":{"line":324,"column":1},"end":{"line":325,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a function that takes a distance matrix and returns a cost-to-go function.","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"key":"hjRXdKKaRT"}],"key":"EfEVCVwgml"}],"key":"ix9QRDcLH2"}],"key":"mAEdW4Wk8I"},{"type":"paragraph","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"children":[{"type":"text","value":"We’ll use the algorithm described above.","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"key":"kg3JMyA0D3"}],"key":"YjxUfCUjyU"},{"type":"paragraph","position":{"start":{"line":328,"column":1},"end":{"line":328,"column":1}},"children":[{"type":"text","value":"The minimization step is vectorized to make it faster.","position":{"start":{"line":328,"column":1},"end":{"line":328,"column":1}},"key":"NVtICTeOTF"}],"key":"B9K8eKrR0w"}],"key":"QaunWHeo29"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def bellman(J, Q):\n    return np.min(Q + J, axis=1)\n\n\ndef compute_cost_to_go(Q):\n    num_nodes = Q.shape[0]\n    J = np.zeros(num_nodes)      # Initial guess\n    max_iter = 500\n    i = 0\n\n    while i < max_iter:\n        next_J = bellman(J, Q)\n        if np.allclose(next_J, J):\n            break\n        else:\n            J[:] = next_J   # Copy contents of next_J to J\n            i += 1\n\n    return(J)","key":"esht76kcf6"},{"type":"output","id":"YhfWKDlEurAX7_pdHKM5P","data":[],"key":"gKlnz5e1rT"}],"key":"ccpWyV3gqX"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"We used np.allclose() rather than testing exact equality because we are\ndealing with floating point numbers now.","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"DCEJpZbX9a"}],"key":"qSn3Auhocb"},{"type":"paragraph","position":{"start":{"line":355,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"text","value":"Finally, here’s a function that uses the cost-to-go function to obtain the\noptimal path (and its cost).","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"JUE2jqJL1G"}],"key":"VGuMNcCjyC"}],"key":"Y4J0HqArB0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def print_best_path(J, Q):\n    sum_costs = 0\n    current_node = 0\n    while current_node != destination_node:\n        print(current_node)\n        # Move to the next node and increment costs\n        next_node = np.argmin(Q[current_node, :] + J)\n        sum_costs += Q[current_node, next_node]\n        current_node = next_node\n\n    print(destination_node)\n    print('Cost: ', sum_costs)","key":"Tj5v4HhK0N"},{"type":"output","id":"OLKd9By5x4sokxAk_DUFN","data":[],"key":"CeBohr07oN"}],"key":"ny72HFEgVj"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"children":[{"type":"text","value":"Okay, now we have the necessary functions, let’s call them to do the job we were assigned.","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"scjbZB8fkp"}],"key":"k8t819SBlY"}],"key":"zodaeZuhjF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"Q = map_graph_to_distance_matrix(graph_file_data)\nJ = compute_cost_to_go(Q)\nprint_best_path(J, Q)","key":"Ib0G51629d"},{"type":"output","id":"HmAPfDLMcZnnYec0zM7b5","data":[],"key":"Ka3S0TQGfy"}],"key":"cPwbZWTOW7"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"The total cost of the path should agree with ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"OB5dpl1Iy2"},{"type":"inlineMath","value":"J[0]","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo stretchy=\"false\">[</mo><mn>0</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">J[0]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mclose\">]</span></span></span></span>","key":"QegIJWwRLo"},{"type":"text","value":" so let’s check this.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"RdWecfg0Dy"}],"key":"gouvN22nOZ"}],"key":"L0j4SfJUR7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"J[0]","key":"ztHl3kenWC"},{"type":"output","id":"fb7ejaGJx2_MouyK09cd5","data":[],"key":"zRnFEKzKLA"}],"key":"oDflf7svOZ"},{"type":"block","children":[{"type":"mystDirectiveError","name":"solution","position":{"start":{"line":387,"column":1},"end":{"line":388,"column":1}},"message":"required argument not provided for directive: solution","key":"B90h5GsxVP"}],"key":"xN3CkpzKxd"}],"key":"wpWt3e8pbA"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Univariate Time Series with Matrix Algebra","url":"/time-series-with-matrices","group":"Stochastic Dynamics"},"next":{"title":"The Perron-Frobenius Theorem","url":"/eigen-ii","group":"Modeling in Higher Dimensions"}}},"domain":"http://localhost:3000"}
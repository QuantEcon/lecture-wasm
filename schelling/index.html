<!DOCTYPE html><html lang="en" class="" style="scroll-padding:50px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Racial Segregation - A First Course in Quantitative Economics with Python - WASM</title><meta property="og:title" content="Racial Segregation - A First Course in Quantitative Economics with Python - WASM"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/build/_assets/app-3KQAGQBY.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="relative bg-white dark:bg-qepage-dark"><div class="fixed top-0 left-0 right-0 z-[2] flex items-center justify-between h-[50px] px-3 md:px-6 bg-qetoolbar-light dark:bg-qetoolbar-dark border-b-[1px] border-qetoolbar-border"><ul class="flex items-center w-full space-x-3 md:space-x-5 text-qetext-light dark:text-qetext-dark"><li><button class="relative flex items-center w-6 h-6 cursor-pointer opacity-90"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x absolute transition-all duration-300 ease-in-out hover:scale-110 opacity-0" aria-label="Show table of contents"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu absolute transition-all duration-300 ease-in-out hover:scale-110 opacity-100" aria-label="Hide table of contents"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></li><li><a href="/"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house opacity-90 hover:scale-110"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg></button></a></li><li><a href="https://quantecon.org/"><img class="duration-300 cursor-pointer transition-scale hover:scale-110 h-7 dark:invert" src="/logos/qemb-logo.png" alt="QuantEcon Logo"/></a></li><li class="flex-grow"></li><li><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R1aop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button></li><li class="hidden md:block"><button class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize  opacity-60 hover:scale-110"><path d="M8 3H5a2 2 0 0 0-2 2v3"></path><path d="M21 8V5a2 2 0 0 0-2-2h-3"></path><path d="M3 16v3a2 2 0 0 0 2 2h3"></path><path d="M16 21h3a2 2 0 0 0 2-2v-3"></path></svg></button></button></li><li class="hidden md:block"><button class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-plus opacity-70 hover:scale-110"><circle cx="12" cy="12" r="10"></circle><path d="M8 12h8"></path><path d="M12 8v8"></path></svg></button></button></li><li class="hidden md:block"><button class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-minus opacity-70 hover:scale-110"><circle cx="12" cy="12" r="10"></circle><path d="M8 12h8"></path></svg></button></button></li><li class="flex items-center md:pr-[36px]"><button class="flex items-center w-5 h-5 opacity-60" aria-label="Change contrast"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sunset w-5 h-5 hover:scale-110"><path d="M12 10V2"></path><path d="m4.93 10.93 1.41 1.41"></path><path d="M2 18h2"></path><path d="M20 18h2"></path><path d="m19.07 10.93-1.41 1.41"></path><path d="M22 22H2"></path><path d="m16 6-4 4-4-4"></path><path d="M16 18a4 4 0 0 0-8 0"></path></svg></button></button></li><li class="hidden md:block"><button type="button" id="radix-:R2aop:" aria-haspopup="menu" aria-expanded="false" data-state="closed" class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-download opacity-90 hover:scale-110" tabindex="0"><path d="M12 13v8l-4-4"></path><path d="m12 21 4-4"></path><path d="M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284"></path></svg></button></button></li><li class="hidden md:block"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2iop:" data-state="closed" class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-play opacity-90 hover:scale-110" tabindex="0"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></button></button></li><li class="hidden md:block"><div class="cursor-pointer w-5 h-5"><a href="https://github.com/QuantEcon/project.lecture-wasm/edit/main/lectures/schelling.md"><button data-state="closed" class="flex items-center"><img src="/logos/github-mark.svg" alt="Github Logo" class="opacity-90 hover:scale-110 w-5 h-5"/></button></a></div></li><li class="block md:hidden"><button type="button" id="radix-:R32op:" aria-haspopup="menu" aria-expanded="false" data-state="closed" class="flex items-center cursor-pointer"><button data-state="closed" class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ellipsis-vertical opacity-90 hover:scale-110" tabindex="0"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></button></button></li></ul></div><div class="fixed top-0 left-0 w-[350px] lg:w-[250px] 2xl:w-[350px] h-screen w-[250px] z-[20] pt-[40px] pb-[90px] px-9 bg-qetoolbar-light dark:bg-qetoolbar-dark  border-r-[1px] border-qetoolbar-border transition-all duration-300 ease-in-out overflow-y-auto -translate-x-full" style="top:50px"><div class="mb-4 text-lg font-bold text-qetext-light dark:text-qetext-dark">Contents</div><nav class="text-qetext-light"><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Economic Data</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/long-run-growth">1. <!-- -->Long-Run Growth</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/inflation-history">2. <!-- -->Price Level Histories</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/french-rev">3. <!-- -->Inflation During French Revolution</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Foundations</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/intro-supply-demand">4. <!-- -->Introduction to Supply and Demand</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/linear-equations">5. <!-- -->Linear Equations and Matrix Algebra</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/complex-and-trig">6. <!-- -->Complex Numbers and Trigonometry</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/geom-series">7. <!-- -->Geometric Series for Elementary Economics</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Linear Dynamics: Finite Horizons</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/pv">8. <!-- -->Present Values</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/cons-smooth">9. <!-- -->Consumption Smoothing</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/tax-smooth">10. <!-- -->Tax Smoothing</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/equalizing-difference">11. <!-- -->Equalizing Difference Model</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/cagan-ree">12. <!-- -->A Monetarist Theory of Price Levels</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/cagan-adaptive">13. <!-- -->Monetarist Theory of Price Levels with Adaptive Expectations</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Linear Dynamics: Infinite Horizons</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/eigen-i">14. <!-- -->Eigenvalues and Eigenvectors</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/greek-square">15. <!-- -->Computing Square Roots</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Probability and Distributions</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/lln-clt">16. <!-- -->LLN and CLT</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/monte-carlo">17. <!-- -->Monte Carlo and Option Pricing</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/schelling">18. <!-- -->Racial Segregation</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Nonlinear Dynamics</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/scalar-dynam">19. <!-- -->Dynamics in One Dimension</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/solow">20. <!-- -->The Solow-Swan Growth Model</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/cobweb">21. <!-- -->The Cobweb Model</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/olg">22. <!-- -->The Overlapping Generations Model</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Monetary-Fiscal Policy Interactions</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/money-inflation">23. <!-- -->Money Financed Government Deficits and Price Levels</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/unpleasant">24. <!-- -->Some Unpleasant Monetarist Arithmetic</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/money-inflation-nonlinear">25. <!-- -->Inflation Rate Laffer Curves</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/laffer-adaptive">26. <!-- -->Laffer Curves  with Adaptive Expectations</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Stochastic Dynamics</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/ar1-processes">27. <!-- -->AR(1) Processes</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/markov-chains-i">28. <!-- -->Markov Chains: Basic Concepts</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/markov-chains-ii">29. <!-- -->Markov Chains: Irreducibility and Ergodicity</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/time-series-with-matrices">30. <!-- -->Univariate Time Series with Matrix Algebra</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Optimization</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/short-path">Shortest Paths</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Modeling in Higher Dimensions</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/eigen-ii">32. <!-- -->The Perron-Frobenius Theorem</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/lake-model">33. <!-- -->A Lake Model of Employment</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/networks">34. <!-- -->Networks</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Markets and Competitive Equilibrium</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/supply-demand-multiple-goods">35. <!-- -->Supply and Demand with Many Goods</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/supply-demand-heterogeneity">36. <!-- -->Market Equilibrium with Heterogeneity</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Estimation</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/simple-linear-regression">37. <!-- -->Simple Linear Regression Model</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/mle">38. <!-- -->Maximum Likelihood Estimation</a></li></ul><p class="mt-5 mb-4 text-lg font-semibold text-qetext-light dark:text-qetext-dark">Other</p><ul><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/troubleshooting">39. <!-- -->Troubleshooting</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/zreferences">40. <!-- -->References</a></li><li class="my-[6px] font-light text-qetext-light dark:text-qetext-dark opacity-80 dark:bg-opacity-100"><a href="/status">41. <!-- -->Execution Statistics</a></li></ul></nav></div><article class="article content" style="margin-top:50px"><main class="pt-[72px] px-2"><div class="hidden"></div><div class="relative simple-center-grid subgrid-gap"><div id="top" class="h-0 m-0 col-body"></div><div id="skip-to-frontmatter"></div><div class="col-body border-b-[5px] border-b-qeborder-blue space-y-1 pb-4"><div class="space-x-4"><div aria-label="Book title" class="block font-bold lg:inline prose-a:text-inherit text-lg"><a href="/">A First Course in Quantitative Economics with Python - WASM</a></div><div class="block text-lg lg:inline" aria-label="Page title">Racial Segregation</div></div><div aira-label="Author names and links"><span><span><span class="font-semibold text-sm text-[102%] font-[400] text-sky-500"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rpgvop:" data-state="closed">Thomas J. Sargent</button></span></span> and <span class="font-semibold text-sm text-[102%] font-[400] text-sky-500"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rqgvop:" data-state="closed">John Stachurski</button><a class="ml-1" href="mailto:john.stachurski@gmail.com" title="John Stachurski &lt;john.stachurski@gmail.com&gt;" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-blue-400 -translate-y-[0.1em]"><path d="M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"></path><path d="M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"></path></svg></a></span></span></div></div><div class="relative self-start hidden lg:col-margin"><nav class="absolute inset-0 not-prose space-y-6 text-opacity-80 dark:font-semibold"><div><img class="dark:hidden" src="/logos/qe-logo.png" alt="QuantEcon Logo" width="150"/><img class="hidden dark:block" src="/logos/quantecon-logo-transparent.png" alt="QuantEcon Logo (dark-mode)" width="150"/></div><p class="text-sm">Powered by <a href="https://mystmd.org">MyST Markdown</a></p></nav></div><div class="sticky top-[60px] flex justify-end w-full z-20 pointer-events-none"><div class="flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="rounded"><button class="flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="inline-block w-6 h-6 align-top"><title>enable compute</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><h1 class="pt-12 m-0">18<!-- -->. <!-- -->Racial Segregation</h1><div class="col-screen prose-qetext-light dark:prose-qetext-dark"><div id="DeYamBKJQ8" class="relative group/block simple-center-grid subgrid-gap col-screen"><h2 id="outline" class="relative group"><span class="mr-3 select-none">18.1</span><span class="heading-text">Outline</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#outline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In 1969, Thomas C. Schelling developed a simple but striking model of racial
segregation <cite class="" data-state="closed"><span class="hover-link">Schelling (1969)</span></cite>.</p><p>His model studies the dynamics of racially mixed neighborhoods.</p><p>Like much of Schelling’s work, the model shows how local interactions can lead
to surprising aggregate outcomes.</p><p>It studies a setting where agents (think of households) have relatively mild
preference for neighbors of the same race.</p><p>For example, these agents might be comfortable with a mixed race neighborhood
but uncomfortable when they feel “surrounded” by people from a different race.</p><p>Schelling illustrated the follow surprising result: in such a setting, mixed
race neighborhoods are likely to be unstable, tending to collapse over time.</p><p>In fact the model predicts strongly divided neighborhoods, with high levels of
segregation.</p><p>In other words, extreme segregation outcomes arise even though people’s
preferences are not particularly extreme.</p><p>These extreme outcomes happen because of <em>interactions</em> between agents in the
model (e.g., households in a city) that drive self-reinforcing dynamics in the
model.</p><p>These ideas will become clearer as the lecture unfolds.</p><p>In recognition of his work on segregation and other research, Schelling was
awarded the 2005 Nobel Prize in Economic Sciences (joint with Robert Aumann).</p><p>Let’s start with some imports:</p></div><div id="SSt1CCHBFm" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import matplotlib.pyplot as plt
from random import uniform, seed
from math import sqrt
import numpy as np</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ofHaERLkUboWj75LHucla" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LvaCW4xKYj" class="relative group/block simple-center-grid subgrid-gap col-screen"><h2 id="the-model" class="relative group"><span class="mr-3 select-none">18.2</span><span class="heading-text">The model</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-model" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this section we will build a version of Schelling’s model.</p><h3 id="set-up" class="relative group"><span class="mr-3 select-none">18.2.1</span><span class="heading-text">Set-Up</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will cover a variation of Schelling’s model that is different from the
original but also easy to program and, at the same time, captures his main
idea.</p><p>Suppose we have two types of people: orange people and green people.</p><p>Assume there are <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> of each type.</p><p>These agents all live on a single unit square.</p><p>Thus, the location (e.g, address) of an agent is just a point <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>,  where
<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 &lt; x, y &lt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span>.</p><ul><li><p>The set of all points <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> satisfying <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 &lt; x, y &lt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> is called the <strong>unit square</strong></p></li><li><p>Below we denote the unit square by <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span></p></li></ul></div><div id="sWV3xBKmgh" class="relative group/block simple-center-grid subgrid-gap col-screen"><h3 id="preferences" class="relative group"><span class="mr-3 select-none">18.2.2</span><span class="heading-text">Preferences</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#preferences" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will say that an agent is <em>happy</em> if 5 or more of her 10 nearest neighbors are of the same type.</p><p>An agent who is not happy is called <em>unhappy</em>.</p><p>For example,</p><ul><li><p>if an agent is orange and 5 of her 10 nearest neighbors are orange, then she is happy.</p></li><li><p>if an agent is green and 8 of her 10 nearest neighbors are orange, then she is unhappy.</p></li></ul><p>‘Nearest’ is in terms of <a href="https://en.wikipedia.org/wiki/Euclidean_distance" class="italic" target="_blank" rel="noreferrer" data-state="closed">Euclidean distance</a>.</p><p>An important point to note is that agents are <strong>not</strong> averse to living in mixed areas.</p><p>They are perfectly happy if half of their neighbors are of the other color.</p></div><div id="Wv9wi9eTTV" class="relative group/block simple-center-grid subgrid-gap col-screen"><h3 id="behavior" class="relative group"><span class="mr-3 select-none">18.2.3</span><span class="heading-text">Behavior</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#behavior" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Initially, agents are mixed together (integrated).</p><p>In particular, we assume that the initial location of each agent is an
independent draw from a bivariate uniform distribution on the unit square <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span>.</p><ul><li><p>First their <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> coordinate is drawn from a uniform distribution on <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>Then, independently, their <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> coordinate is drawn from the same distribution.</p></li></ul><p>Now, cycling through the set of all agents, each agent is now given the chance to stay or move.</p><p>Each agent stays if they are happy and moves if they are unhappy.</p><p>The algorithm for moving is as follows</p><aside id="move-algo" class="my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-gray-500/60"><div class="m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900"><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4"><a class="no-underline text-inherit hover:text-inherit font-normal select-none hover:underline" href="#move-algo" title="Link to this Algorithm" aria-label="Link to this Algorithm">Algorithm<!-- --> <!-- -->1</a> <!-- -->(<!-- -->Jump Chain Algorithm<!-- -->)</div></div><div class="px-4"><ol start="1"><li><p>Draw a random location in <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span></p></li><li><p>If happy at new location, move there</p></li><li><p>Otherwise, go to step 1</p></li></ol></div></aside><p>We cycle continuously through the agents, each time allowing an unhappy agent
to move.</p><p>We continue to cycle until no one wishes to move.</p></div><div id="ddTSFVlhMh" class="relative group/block simple-center-grid subgrid-gap col-screen"><h2 id="results" class="relative group"><span class="mr-3 select-none">18.3</span><span class="heading-text">Results</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#results" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s now implement and run this simulation.</p><p>In what follows, agents are modeled as <a target="_blank" rel="noreferrer" href="https://python-programming.quantecon.org/python_oop.html" class="">objects</a>.</p><p>Here’s an indication of their structure:</p><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">* Data:

    * type (green or orange)
    * location

* Methods:

    * determine whether happy or not given locations of other agents
    * If not happy, move
        * find a new location where happy</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Let’s build them.</p></div><div id="fbLZYo7xDD" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class Agent:

    def __init__(self, type):
        self.type = type
        self.draw_location()

    def draw_location(self):
        self.location = uniform(0, 1), uniform(0, 1)

    def get_distance(self, other):
        &quot;Computes the euclidean distance between self and other agent.&quot;
        a = (self.location[0] - other.location[0])**2
        b = (self.location[1] - other.location[1])**2
        return sqrt(a + b)

    def happy(self,
                agents,                # List of other agents
                num_neighbors=10,      # No. of agents viewed as neighbors
                require_same_type=5):  # How many neighbors must be same type
        &quot;&quot;&quot;
            True if a sufficient number of nearest neighbors are of the same
            type.
        &quot;&quot;&quot;

        distances = []

        # Distances is a list of pairs (d, agent), where d is distance from
        # agent to self
        for agent in agents:
            if self != agent:
                distance = self.get_distance(agent)
                distances.append((distance, agent))

        # Sort from smallest to largest, according to distance
        distances.sort()

        # Extract the neighboring agents
        neighbors = [agent for d, agent in distances[:num_neighbors]]

        # Count how many neighbors have the same type as self
        num_same_type = sum(self.type == agent.type for agent in neighbors)
        return num_same_type &gt;= require_same_type

    def update(self, agents):
        &quot;If not happy, then randomly choose new locations until happy.&quot;
        while not self.happy(agents):
            self.draw_location()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="IOEJbIGR4HrKyCu4T1RNx" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rVRIYUPhaP" class="relative group/block simple-center-grid subgrid-gap col-screen"><p>Here’s some code that takes a list of agents and produces a plot showing their
locations on the unit square.</p><p>Orange agents are represented by orange dots and green ones are represented by
green dots.</p></div><div id="TcBcZInuHl" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def plot_distribution(agents, cycle_num):
    &quot;Plot the distribution of agents after cycle_num rounds of the loop.&quot;
    x_values_0, y_values_0 = [], []
    x_values_1, y_values_1 = [], []
    # == Obtain locations of each type == #
    for agent in agents:
        x, y = agent.location
        if agent.type == 0:
            x_values_0.append(x)
            y_values_0.append(y)
        else:
            x_values_1.append(x)
            y_values_1.append(y)
    fig, ax = plt.subplots()
    plot_args = {&#x27;markersize&#x27;: 8, &#x27;alpha&#x27;: 0.8}
    ax.set_facecolor(&#x27;azure&#x27;)
    ax.plot(x_values_0, y_values_0,
        &#x27;o&#x27;, markerfacecolor=&#x27;orange&#x27;, **plot_args)
    ax.plot(x_values_1, y_values_1,
        &#x27;o&#x27;, markerfacecolor=&#x27;green&#x27;, **plot_args)
    ax.set_title(f&#x27;Cycle {cycle_num-1}&#x27;)
    plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="YWmpgw6H63yNfWxBDE92u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vagnva2GW2" class="relative group/block simple-center-grid subgrid-gap col-screen"><p>And here’s some pseudocode for the main loop, where we cycle through the
agents until no one wishes to move.</p><p>The pseudocode is</p><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">plot the distribution
while agents are still moving
    for agent in agents
        give agent the opportunity to move
plot the distribution</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The real code is below</p></div><div id="Vk8hLVrtsM" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def run_simulation(num_of_type_0=600,
                   num_of_type_1=600,
                   max_iter=100_000,       # Maximum number of iterations
                   set_seed=1234):

    # Set the seed for reproducibility
    seed(set_seed)

    # Create a list of agents of type 0
    agents = [Agent(0) for i in range(num_of_type_0)]
    # Append a list of agents of type 1
    agents.extend(Agent(1) for i in range(num_of_type_1))

    # Initialize a counter
    count = 1

    # Plot the initial distribution
    plot_distribution(agents, count)

    # Loop until no agent wishes to move
    while count &lt; max_iter:
        print(&#x27;Entering loop &#x27;, count)
        count += 1
        no_one_moved = True
        for agent in agents:
            old_location = agent.location
            agent.update(agents)
            if agent.location != old_location:
                no_one_moved = False
        if no_one_moved:
            break

    # Plot final distribution
    plot_distribution(agents, count)

    if count &lt; max_iter:
        print(f&#x27;Converged after {count} iterations.&#x27;)
    else:
        print(&#x27;Hit iteration bound and terminated.&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ERH1a_NSuL_loMHkE_Qwr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wPWtN2gIjX" class="relative group/block simple-center-grid subgrid-gap col-screen"><p>Let’s have a look at the results.</p></div><div id="pDmGPG1sMs" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">run_simulation()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="fnymkZmRIjm5K60t-oEaT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="A1iLPUrwmM" class="relative group/block simple-center-grid subgrid-gap col-screen"><p>As discussed above, agents are initially mixed randomly together.</p><p>But after several cycles, they become segregated into distinct regions.</p><p>In this instance, the program terminated after a small number of cycles
through the set of agents, indicating that all agents had reached a state of
happiness.</p><p>What is striking about the pictures is how rapidly racial integration breaks down.</p><p>This is despite the fact that people in the model don’t actually mind living mixed with the other type.</p><p>Even with these preferences, the outcome is a high degree of segregation.</p><h2 id="exercises" class="relative group"><span class="mr-3 select-none">18.4</span><span class="heading-text">Exercises</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercises" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside id="schelling-ex1" class="my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-blue-500/60"><div class="m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-blue-50/80 dark:bg-slate-900"><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group"><a class="no-underline text-inherit hover:text-inherit font-normal select-none hover:underline" href="#schelling-ex1" title="Link to this Exercise" aria-label="Link to this Exercise">Exercise<!-- --> <!-- -->1</a></div></div><div class="px-4"><p>The object oriented style that we used for coding above is neat but harder to
optimize than procedural code (i.e., code based around functions rather than
objects and methods).</p><p>Try writing a new version of the model that stores</p><ul><li><p>the locations of all agents as a 2D NumPy array of floats.</p></li><li><p>the types of all agents as a flat NumPy array of integers.</p></li></ul><p>Write functions that act on this data to update the model using the logic
similar to that described above.</p><p>However, implement the following two changes:</p><ol start="1"><li><p>Agents are offered a move at random (i.e., selected randomly and given the
opportunity to move).</p></li><li><p>After an agent has moved, flip their type with probability 0.01</p></li></ol><p>The second change introduces extra randomness into the model.</p><p>(We can imagine that, every so often, an agent moves to a different city and,
with small probability, is replaced by an agent of the other type.)</p></div></aside><details class="my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-gray-500/60"><summary class="m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group">Solution to <span data-state="closed"><a href="#schelling-ex1" class="hover-link">Exercise <!-- -->1</a></span></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 details-body"></div></details><p>solution here</p></div><div id="M2CGeUC0wb" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from numpy.random import uniform, randint

n = 1000                # number of agents (agents = 0, ..., n-1)
k = 10                  # number of agents regarded as neighbors
require_same_type = 5   # want &gt;= require_same_type neighbors of the same type

def initialize_state():
    locations = uniform(size=(n, 2))
    types = randint(0, high=2, size=n)   # label zero or one
    return locations, types


def compute_distances_from_loc(loc, locations):
    &quot;&quot;&quot; Compute distance from location loc to all other points. &quot;&quot;&quot;
    return np.linalg.norm(loc - locations, axis=1)

def get_neighbors(loc, locations):
    &quot; Get all neighbors of a given location. &quot;
    all_distances = compute_distances_from_loc(loc, locations)
    indices = np.argsort(all_distances)   # sort agents by distance to loc
    neighbors = indices[:k]               # keep the k closest ones
    return neighbors

def is_happy(i, locations, types):
    happy = True
    agent_loc = locations[i, :]
    agent_type = types[i]
    neighbors = get_neighbors(agent_loc, locations)
    neighbor_types = types[neighbors]
    if sum(neighbor_types == agent_type) &lt; require_same_type:
        happy = False
    return happy

def count_happy(locations, types):
    &quot; Count the number of happy agents. &quot;
    happy_sum = 0
    for i in range(n):
        happy_sum += is_happy(i, locations, types)
    return happy_sum

def update_agent(i, locations, types):
    &quot; Move agent if unhappy. &quot;
    moved = False
    while not is_happy(i, locations, types):
        moved = True
        locations[i, :] = uniform(), uniform()
    return moved

def plot_distribution(locations, types, title, savepdf=False):
    &quot; Plot the distribution of agents after cycle_num rounds of the loop.&quot;
    fig, ax = plt.subplots()
    colors = &#x27;orange&#x27;, &#x27;green&#x27;
    for agent_type, color in zip((0, 1), colors):
        idx = (types == agent_type)
        ax.plot(locations[idx, 0],
                locations[idx, 1],
                &#x27;o&#x27;,
                markersize=8,
                markerfacecolor=color,
                alpha=0.8)
    ax.set_title(title)
    plt.show()

def sim_random_select(max_iter=100_000, flip_prob=0.01, test_freq=10_000):
    &quot;&quot;&quot;
    Simulate by randomly selecting one household at each update.

    Flip the color of the household with probability `flip_prob`.

    &quot;&quot;&quot;

    locations, types = initialize_state()
    current_iter = 0

    while current_iter &lt;= max_iter:

        # Choose a random agent and update them
        i = randint(0, n)
        moved = update_agent(i, locations, types)

        if flip_prob &gt; 0:
            # flip agent i&#x27;s type with probability epsilon
            U = uniform()
            if U &lt; flip_prob:
                current_type = types[i]
                types[i] = 0 if current_type == 1 else 1

        # Every so many updates, plot and test for convergence
        if current_iter % test_freq == 0:
            cycle = current_iter / n
            plot_distribution(locations, types, f&#x27;iteration {current_iter}&#x27;)
            if count_happy(locations, types) == n:
                print(f&quot;Converged at iteration {current_iter}&quot;)
                break

        current_iter += 1

    if current_iter &gt; max_iter:
        print(f&quot;Terminating at iteration {current_iter}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="WiZNv_5Bi5rt-QsinFbHT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="suONDlNhXF" class="relative group/block simple-center-grid subgrid-gap col-screen"><span></span></div><div id="lM0ox8pDKU" class="relative group/block simple-center-grid subgrid-gap col-screen"><p>When we run this we again find that mixed neighborhoods break down and segregation emerges.</p><p>Here’s a sample run.</p></div><div id="pwgQ0iYwwa" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">sim_random_select(max_iter=50_000, flip_prob=0.01, test_freq=10_000)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SfOdcGKrwBvTRUnNgpKhf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="v10wmUzHV0" class="relative group/block simple-center-grid subgrid-gap col-screen"></div><div id="ONCRif87cR" class="relative group/block simple-center-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="McvgzZdZ5ZlnU7Y_xNIup" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div></div><div class="col-body"></div><section id="references" class="simple-center-grid subgrid-gap col-screen"><div class="col-body"><header class="text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300 col-body"><ol><li class="break-words" id="cite-Schelling1969">Schelling, T. C. (1969). Models of Segregation. <i>American Economic Review</i>, <i>59</i>(2), 488–493.</li></ol></div></section><div class="fixed bottom-0 left-0 right-0 col-screen not-prose simple-center-grid grid-gap"><div class="relative col-margin"><p class="absolute bottom-0 font-semibold text-md z-[1000] transition-opacity ease-in-out duration-300 opacity-0"><a href="/schelling#top">Back to top</a></p></div></div></div></main></article></div><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-3X3CRHXZ.js"/><link rel="modulepreload" href="/build/_shared/chunk-YBLVZUVT.js"/><link rel="modulepreload" href="/build/_shared/chunk-MV5ISYB3.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-XNJUXFUG.js"/><link rel="modulepreload" href="/build/_shared/chunk-MRMOGMU4.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBNQFF5R.js"/><link rel="modulepreload" href="/build/_shared/chunk-J5VIBAGS.js"/><link rel="modulepreload" href="/build/_shared/chunk-HB2VZELG.js"/><link rel="modulepreload" href="/build/_shared/chunk-YTDUQO4S.js"/><link rel="modulepreload" href="/build/_shared/chunk-KKDHZE5T.js"/><link rel="modulepreload" href="/build/_shared/chunk-X3SRJYZW.js"/><link rel="modulepreload" href="/build/_shared/chunk-WMHU5VV3.js"/><link rel="modulepreload" href="/build/_shared/chunk-XZQAKIX3.js"/><link rel="modulepreload" href="/build/_shared/chunk-GXJEHIGW.js"/><link rel="modulepreload" href="/build/root-C4PF63RT.js"/><link rel="modulepreload" href="/build/_shared/chunk-WBHXW4QT.js"/><link rel="modulepreload" href="/build/routes/$-EQ4SYB3X.js"/><script>window.__remixContext = {"state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.3","options":{},"nav":[],"actions":[],"projects":[{"numbering":{"title":{"enabled":true},"heading_1":{"enabled":false},"figure":{"template":"Fig. %s","enabled":true},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"title":"A First Course in Quantitative Economics with Python - WASM","authors":[{"nameParsed":{"literal":"Thomas J. Sargent","given":"Thomas J.","family":"Sargent"},"name":"Thomas J. Sargent","affiliations":["Professor of Economics, New York University.","Senior Fellow, Hoover Institution, Stanford, CA."],"url":"http://www.tomsargent.com","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"John Stachurski","given":"John","family":"Stachurski"},"name":"John Stachurski","email":"john.stachurski@gmail.com","affiliations":["Professor, Research School of Economics, ANU.","Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."],"url":"https://johnstachurski.net","id":"contributors-myst-generated-uid-1","corresponding":true}],"github":"https://github.com/QuantEcon/project.lecture-wasm","affiliations":[{"id":"Professor of Economics, New York University.","name":"Professor of Economics, New York University."},{"id":"Senior Fellow, Hoover Institution, Stanford, CA.","name":"Senior Fellow, Hoover Institution, Stanford, CA."},{"id":"Professor, Research School of Economics, ANU.","name":"Professor, Research School of Economics, ANU."},{"id":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota.","name":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."}],"thebe":{"lite":true},"toc":[{"file":"intro.md"},{"children":[{"file":"long_run_growth"},{"file":"inflation_history"},{"file":"french_rev"}],"title":"Economic Data"},{"children":[{"file":"intro_supply_demand"},{"file":"linear_equations"},{"file":"complex_and_trig"},{"file":"geom_series"}],"title":"Foundations"},{"children":[{"file":"pv"},{"file":"cons_smooth"},{"file":"tax_smooth"},{"file":"equalizing_difference"},{"file":"cagan_ree"},{"file":"cagan_adaptive"}],"title":"Linear Dynamics: Finite Horizons"},{"children":[{"file":"eigen_I"},{"file":"greek_square"}],"title":"Linear Dynamics: Infinite Horizons"},{"children":[{"file":"lln_clt"},{"file":"monte_carlo"},{"file":"schelling"}],"title":"Probability and Distributions"},{"children":[{"file":"scalar_dynam"},{"file":"solow"},{"file":"cobweb"},{"file":"olg"}],"title":"Nonlinear Dynamics"},{"children":[{"file":"money_inflation"},{"file":"unpleasant"},{"file":"money_inflation_nonlinear"},{"file":"laffer_adaptive"}],"title":"Monetary-Fiscal Policy Interactions"},{"children":[{"file":"ar1_processes"},{"file":"markov_chains_I"},{"file":"markov_chains_II"},{"file":"time_series_with_matrices"}],"title":"Stochastic Dynamics"},{"children":[{"file":"short_path"}],"title":"Optimization"},{"children":[{"file":"eigen_II"},{"file":"lake_model"},{"file":"networks"}],"title":"Modeling in Higher Dimensions"},{"children":[{"file":"supply_demand_multiple_goods"},{"file":"supply_demand_heterogeneity"}],"title":"Markets and Competitive Equilibrium"},{"children":[{"file":"simple_linear_regression"},{"file":"mle"}],"title":"Estimation"},{"children":[{"file":"troubleshooting"},{"file":"zreferences"},{"file":"status"}],"title":"Other"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Economic Data"},{"slug":"long-run-growth","title":"Long-Run Growth","description":"","date":"","thumbnail":"/build/tooze_ch1_graph-ecd86e93f7b16170a0056e27c9c1aa40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"1"},{"slug":"inflation-history","title":"Price Level Histories","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"2"},{"slug":"french-rev","title":"Inflation During French Revolution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"3"},{"level":1,"title":"Foundations"},{"slug":"intro-supply-demand","title":"Introduction to Supply and Demand","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"4"},{"slug":"linear-equations","title":"Linear Equations and Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"5"},{"slug":"complex-and-trig","title":"Complex Numbers and Trigonometry","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"6"},{"slug":"geom-series","title":"Geometric Series for Elementary Economics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"7"},{"level":1,"title":"Linear Dynamics: Finite Horizons"},{"slug":"pv","title":"Present Values","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"8"},{"slug":"cons-smooth","title":"Consumption Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"9"},{"slug":"tax-smooth","title":"Tax Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"10"},{"slug":"equalizing-difference","title":"Equalizing Difference Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"11"},{"slug":"cagan-ree","title":"A Monetarist Theory of Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"12"},{"slug":"cagan-adaptive","title":"Monetarist Theory of Price Levels with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"13"},{"level":1,"title":"Linear Dynamics: Infinite Horizons"},{"slug":"eigen-i","title":"Eigenvalues and Eigenvectors","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"14"},{"slug":"greek-square","title":"Computing Square Roots","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"15"},{"level":1,"title":"Probability and Distributions"},{"slug":"lln-clt","title":"LLN and CLT","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"16"},{"slug":"monte-carlo","title":"Monte Carlo and Option Pricing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"17"},{"slug":"schelling","title":"Racial Segregation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"18"},{"level":1,"title":"Nonlinear Dynamics"},{"slug":"scalar-dynam","title":"Dynamics in One Dimension","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"19"},{"slug":"solow","title":"The Solow-Swan Growth Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"20"},{"slug":"cobweb","title":"The Cobweb Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"21"},{"slug":"olg","title":"The Overlapping Generations Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"22"},{"level":1,"title":"Monetary-Fiscal Policy Interactions"},{"slug":"money-inflation","title":"Money Financed Government Deficits and Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"23"},{"slug":"unpleasant","title":"Some Unpleasant Monetarist Arithmetic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"24"},{"slug":"money-inflation-nonlinear","title":"Inflation Rate Laffer Curves","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"25"},{"slug":"laffer-adaptive","title":"Laffer Curves  with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"26"},{"level":1,"title":"Stochastic Dynamics"},{"slug":"ar1-processes","title":"AR(1) Processes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"27"},{"slug":"markov-chains-i","title":"Markov Chains: Basic Concepts","description":"","date":"","thumbnail":"/build/Hamilton-5d67b7332274ee2e86b3321cbc0479ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"28"},{"slug":"markov-chains-ii","title":"Markov Chains: Irreducibility and Ergodicity","description":"","date":"","thumbnail":"/build/Irre_1-3632842ed19e1f995452a07236c381c8.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"29"},{"slug":"time-series-with-matrices","title":"Univariate Time Series with Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"30"},{"level":1,"title":"Optimization"},{"slug":"short-path","title":"Shortest Paths","description":"","date":"","thumbnail":"/build/graph-79e7897e3b02e2a71a96078773c21293.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Modeling in Higher Dimensions"},{"slug":"eigen-ii","title":"The Perron-Frobenius Theorem","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"32"},{"slug":"lake-model","title":"A Lake Model of Employment","description":"","date":"","thumbnail":"/build/lake_model_worker-b3f282004a1484cdfda2b5a980f6e35f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"33"},{"slug":"networks","title":"Networks","description":"","date":"","thumbnail":"/build/mc-e3cbbcfaf4868d26040beee835a43db1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"34"},{"level":1,"title":"Markets and Competitive Equilibrium"},{"slug":"supply-demand-multiple-goods","title":"Supply and Demand with Many Goods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"35"},{"slug":"supply-demand-heterogeneity","title":"Market Equilibrium with Heterogeneity","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"36"},{"level":1,"title":"Estimation"},{"slug":"simple-linear-regression","title":"Simple Linear Regression Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"37"},{"slug":"mle","title":"Maximum Likelihood Estimation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"38"},{"level":1,"title":"Other"},{"slug":"troubleshooting","title":"Troubleshooting","description":"","date":"","thumbnail":"/build/launch-2d0137cc733cbf46ea1397b1df46c427.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"39"},{"slug":"zreferences","title":"References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"40"},{"slug":"status","title":"Execution Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"41"}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.3","options":{},"nav":[],"actions":[],"projects":[{"numbering":{"title":{"enabled":true},"heading_1":{"enabled":false},"figure":{"template":"Fig. %s","enabled":true},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"title":"A First Course in Quantitative Economics with Python - WASM","authors":[{"nameParsed":{"literal":"Thomas J. Sargent","given":"Thomas J.","family":"Sargent"},"name":"Thomas J. Sargent","affiliations":["Professor of Economics, New York University.","Senior Fellow, Hoover Institution, Stanford, CA."],"url":"http://www.tomsargent.com","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"John Stachurski","given":"John","family":"Stachurski"},"name":"John Stachurski","email":"john.stachurski@gmail.com","affiliations":["Professor, Research School of Economics, ANU.","Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."],"url":"https://johnstachurski.net","id":"contributors-myst-generated-uid-1","corresponding":true}],"github":"https://github.com/QuantEcon/project.lecture-wasm","affiliations":[{"id":"Professor of Economics, New York University.","name":"Professor of Economics, New York University."},{"id":"Senior Fellow, Hoover Institution, Stanford, CA.","name":"Senior Fellow, Hoover Institution, Stanford, CA."},{"id":"Professor, Research School of Economics, ANU.","name":"Professor, Research School of Economics, ANU."},{"id":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota.","name":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."}],"thebe":{"lite":true},"toc":[{"file":"intro.md"},{"children":[{"file":"long_run_growth"},{"file":"inflation_history"},{"file":"french_rev"}],"title":"Economic Data"},{"children":[{"file":"intro_supply_demand"},{"file":"linear_equations"},{"file":"complex_and_trig"},{"file":"geom_series"}],"title":"Foundations"},{"children":[{"file":"pv"},{"file":"cons_smooth"},{"file":"tax_smooth"},{"file":"equalizing_difference"},{"file":"cagan_ree"},{"file":"cagan_adaptive"}],"title":"Linear Dynamics: Finite Horizons"},{"children":[{"file":"eigen_I"},{"file":"greek_square"}],"title":"Linear Dynamics: Infinite Horizons"},{"children":[{"file":"lln_clt"},{"file":"monte_carlo"},{"file":"schelling"}],"title":"Probability and Distributions"},{"children":[{"file":"scalar_dynam"},{"file":"solow"},{"file":"cobweb"},{"file":"olg"}],"title":"Nonlinear Dynamics"},{"children":[{"file":"money_inflation"},{"file":"unpleasant"},{"file":"money_inflation_nonlinear"},{"file":"laffer_adaptive"}],"title":"Monetary-Fiscal Policy Interactions"},{"children":[{"file":"ar1_processes"},{"file":"markov_chains_I"},{"file":"markov_chains_II"},{"file":"time_series_with_matrices"}],"title":"Stochastic Dynamics"},{"children":[{"file":"short_path"}],"title":"Optimization"},{"children":[{"file":"eigen_II"},{"file":"lake_model"},{"file":"networks"}],"title":"Modeling in Higher Dimensions"},{"children":[{"file":"supply_demand_multiple_goods"},{"file":"supply_demand_heterogeneity"}],"title":"Markets and Competitive Equilibrium"},{"children":[{"file":"simple_linear_regression"},{"file":"mle"}],"title":"Estimation"},{"children":[{"file":"troubleshooting"},{"file":"zreferences"},{"file":"status"}],"title":"Other"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Economic Data"},{"slug":"long-run-growth","title":"Long-Run Growth","description":"","date":"","thumbnail":"/build/tooze_ch1_graph-ecd86e93f7b16170a0056e27c9c1aa40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"1"},{"slug":"inflation-history","title":"Price Level Histories","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"2"},{"slug":"french-rev","title":"Inflation During French Revolution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"3"},{"level":1,"title":"Foundations"},{"slug":"intro-supply-demand","title":"Introduction to Supply and Demand","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"4"},{"slug":"linear-equations","title":"Linear Equations and Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"5"},{"slug":"complex-and-trig","title":"Complex Numbers and Trigonometry","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"6"},{"slug":"geom-series","title":"Geometric Series for Elementary Economics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"7"},{"level":1,"title":"Linear Dynamics: Finite Horizons"},{"slug":"pv","title":"Present Values","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"8"},{"slug":"cons-smooth","title":"Consumption Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"9"},{"slug":"tax-smooth","title":"Tax Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"10"},{"slug":"equalizing-difference","title":"Equalizing Difference Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"11"},{"slug":"cagan-ree","title":"A Monetarist Theory of Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"12"},{"slug":"cagan-adaptive","title":"Monetarist Theory of Price Levels with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"13"},{"level":1,"title":"Linear Dynamics: Infinite Horizons"},{"slug":"eigen-i","title":"Eigenvalues and Eigenvectors","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"14"},{"slug":"greek-square","title":"Computing Square Roots","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"15"},{"level":1,"title":"Probability and Distributions"},{"slug":"lln-clt","title":"LLN and CLT","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"16"},{"slug":"monte-carlo","title":"Monte Carlo and Option Pricing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"17"},{"slug":"schelling","title":"Racial Segregation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"18"},{"level":1,"title":"Nonlinear Dynamics"},{"slug":"scalar-dynam","title":"Dynamics in One Dimension","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"19"},{"slug":"solow","title":"The Solow-Swan Growth Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"20"},{"slug":"cobweb","title":"The Cobweb Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"21"},{"slug":"olg","title":"The Overlapping Generations Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"22"},{"level":1,"title":"Monetary-Fiscal Policy Interactions"},{"slug":"money-inflation","title":"Money Financed Government Deficits and Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"23"},{"slug":"unpleasant","title":"Some Unpleasant Monetarist Arithmetic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"24"},{"slug":"money-inflation-nonlinear","title":"Inflation Rate Laffer Curves","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"25"},{"slug":"laffer-adaptive","title":"Laffer Curves  with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"26"},{"level":1,"title":"Stochastic Dynamics"},{"slug":"ar1-processes","title":"AR(1) Processes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"27"},{"slug":"markov-chains-i","title":"Markov Chains: Basic Concepts","description":"","date":"","thumbnail":"/build/Hamilton-5d67b7332274ee2e86b3321cbc0479ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"28"},{"slug":"markov-chains-ii","title":"Markov Chains: Irreducibility and Ergodicity","description":"","date":"","thumbnail":"/build/Irre_1-3632842ed19e1f995452a07236c381c8.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"29"},{"slug":"time-series-with-matrices","title":"Univariate Time Series with Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"30"},{"level":1,"title":"Optimization"},{"slug":"short-path","title":"Shortest Paths","description":"","date":"","thumbnail":"/build/graph-79e7897e3b02e2a71a96078773c21293.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Modeling in Higher Dimensions"},{"slug":"eigen-ii","title":"The Perron-Frobenius Theorem","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"32"},{"slug":"lake-model","title":"A Lake Model of Employment","description":"","date":"","thumbnail":"/build/lake_model_worker-b3f282004a1484cdfda2b5a980f6e35f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"33"},{"slug":"networks","title":"Networks","description":"","date":"","thumbnail":"/build/mc-e3cbbcfaf4868d26040beee835a43db1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"34"},{"level":1,"title":"Markets and Competitive Equilibrium"},{"slug":"supply-demand-multiple-goods","title":"Supply and Demand with Many Goods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"35"},{"slug":"supply-demand-heterogeneity","title":"Market Equilibrium with Heterogeneity","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"36"},{"level":1,"title":"Estimation"},{"slug":"simple-linear-regression","title":"Simple Linear Regression Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"37"},{"slug":"mle","title":"Maximum Likelihood Estimation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"38"},{"level":1,"title":"Other"},{"slug":"troubleshooting","title":"Troubleshooting","description":"","date":"","thumbnail":"/build/launch-2d0137cc733cbf46ea1397b1df46c427.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"39"},{"slug":"zreferences","title":"References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"40"},{"slug":"status","title":"Execution Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"41"}]}]},"page":{"version":2,"kind":"Notebook","sha256":"a16cb8718d64a26e4a7e3063f1f81bdfe01682a91effd91d8a855d2cbec65953","slug":"schelling","location":"/schelling.md","dependencies":[],"frontmatter":{"title":"Racial Segregation","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.14.1"}},"content_includes_title":false,"authors":[{"nameParsed":{"literal":"Thomas J. Sargent","given":"Thomas J.","family":"Sargent"},"name":"Thomas J. Sargent","affiliations":["Professor of Economics, New York University.","Senior Fellow, Hoover Institution, Stanford, CA."],"url":"http://www.tomsargent.com","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"John Stachurski","given":"John","family":"Stachurski"},"name":"John Stachurski","email":"john.stachurski@gmail.com","affiliations":["Professor, Research School of Economics, ANU.","Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."],"url":"https://johnstachurski.net","id":"contributors-myst-generated-uid-1","corresponding":true}],"github":"https://github.com/QuantEcon/project.lecture-wasm","numbering":{"title":{"enabled":true,"offset":1},"heading_1":{"enabled":false},"figure":{"enabled":true,"template":"Fig. %s"},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"affiliations":[{"id":"Professor of Economics, New York University.","name":"Professor of Economics, New York University."},{"id":"Senior Fellow, Hoover Institution, Stanford, CA.","name":"Senior Fellow, Hoover Institution, Stanford, CA."},{"id":"Professor, Research School of Economics, ANU.","name":"Professor, Research School of Economics, ANU."},{"id":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota.","name":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."}],"source_url":"https://github.com/QuantEcon/project.lecture-wasm/blob/main/lectures/schelling.md","edit_url":"https://github.com/QuantEcon/project.lecture-wasm/edit/main/lectures/schelling.md","enumerator":"18","exports":[{"format":"md","filename":"schelling.md","url":"/build/schelling-f9b2df1119014f4ab684b22f2b96b586.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Outline","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"fH63zFeUcH"}],"indexEntries":[{"entry":"Models","subEntry":{"value":"Schelling's Segregation Model","kind":"entry"},"emphasis":false},{"entry":"Schelling Segregation Model","emphasis":false}],"identifier":"outline","label":"Outline","html_id":"outline","implicit":true,"enumerator":"18.1","key":"NbLG5Zi8Te"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"In 1969, Thomas C. Schelling developed a simple but striking model of racial\nsegregation ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"lbUkAr6h5q"},{"type":"cite","kind":"narrative","label":"Schelling1969","identifier":"schelling1969","children":[{"type":"text","value":"Schelling (1969)","key":"IG864RWuv1"}],"enumerator":"1","key":"iOqBkIkSdp"},{"type":"text","value":".","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"YOBl0cIJQp"}],"key":"QgyS50bsSP"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"His model studies the dynamics of racially mixed neighborhoods.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"frjqsEihg7"}],"key":"z5ZhrtgdzD"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Like much of Schelling’s work, the model shows how local interactions can lead\nto surprising aggregate outcomes.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"mQrXrzyjBb"}],"key":"nAXm0x0Jux"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"It studies a setting where agents (think of households) have relatively mild\npreference for neighbors of the same race.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"NRxKUEujBN"}],"key":"yf8yMSyYNw"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"For example, these agents might be comfortable with a mixed race neighborhood\nbut uncomfortable when they feel “surrounded” by people from a different race.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"DWYt7b0ejG"}],"key":"gzw2d8ePZh"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Schelling illustrated the follow surprising result: in such a setting, mixed\nrace neighborhoods are likely to be unstable, tending to collapse over time.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"tr39NYjVi5"}],"key":"F19GHmifQn"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"In fact the model predicts strongly divided neighborhoods, with high levels of\nsegregation.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"f6UOWHA5QS"}],"key":"Ka7tXxlj43"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"In other words, extreme segregation outcomes arise even though people’s\npreferences are not particularly extreme.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"znL5ubOGrj"}],"key":"oFtDM03Am1"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"These extreme outcomes happen because of ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"mAM7Q7LQVM"},{"type":"emphasis","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"interactions","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"Xw1FyBdlVk"}],"key":"PSBN8xYgi3"},{"type":"text","value":" between agents in the\nmodel (e.g., households in a city) that drive self-reinforcing dynamics in the\nmodel.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"LTBsxPhW03"}],"key":"LzitaGObKn"},{"type":"paragraph","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"These ideas will become clearer as the lecture unfolds.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"oBggn7ipHf"}],"key":"Ghn3wEHPF8"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"In recognition of his work on segregation and other research, Schelling was\nawarded the 2005 Nobel Prize in Economic Sciences (joint with Robert Aumann).","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"WfbrhYcAd0"}],"key":"DoFhgRW8lx"},{"type":"paragraph","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"Let’s start with some imports:","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"XmaaNw0AwJ"}],"key":"F0fkoNRaUx"}],"key":"DeYamBKJQ8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom random import uniform, seed\nfrom math import sqrt\nimport numpy as np","key":"IQuehLDgKC"},{"type":"output","id":"ofHaERLkUboWj75LHucla","data":[],"key":"lFsYWJjoyx"}],"key":"SSt1CCHBFm"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"The model","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"iCtt1QJqVz"}],"identifier":"the-model","label":"The model","html_id":"the-model","implicit":true,"enumerator":"18.2","key":"WACsDBhoXw"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"In this section we will build a version of Schelling’s model.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"Cfb79GGCAw"}],"key":"uU8d2xhqXq"},{"type":"heading","depth":3,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Set-Up","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"Dj1h3hU977"}],"identifier":"set-up","label":"Set-Up","html_id":"set-up","implicit":true,"enumerator":"18.2.1","key":"hWC2Za8gxo"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"We will cover a variation of Schelling’s model that is different from the\noriginal but also easy to program and, at the same time, captures his main\nidea.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"RDgEFj0TDY"}],"key":"iawo6Wf0Cm"},{"type":"paragraph","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"Suppose we have two types of people: orange people and green people.","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"Ni4ztBKsQI"}],"key":"sWpWV2pEFC"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Assume there are ","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"Fli36agMfQ"},{"type":"inlineMath","value":"n","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003en\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003en\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"ZTI4RDEt6k"},{"type":"text","value":" of each type.","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"EhZvp1a5Pz"}],"key":"cb2uMf0Bcx"},{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"These agents all live on a single unit square.","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"mRGIH2M0EQ"}],"key":"rWEeXjB4AA"},{"type":"paragraph","position":{"start":{"line":83,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Thus, the location (e.g, address) of an agent is just a point ","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"mzTjsRFPTF"},{"type":"inlineMath","value":"(x, y)","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(x, y)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"p40zohU8Fr"},{"type":"text","value":",  where\n","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"XMDWr5fIWh"},{"type":"inlineMath","value":"0 \u003c x, y \u003c 1","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmo\u003e\u0026lt;\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo\u003e\u0026lt;\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e0 \u0026lt; x, y \u0026lt; 1\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7335em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"F2UGkY3I12"},{"type":"text","value":".","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"Olc8DPwYGE"}],"key":"bUKMNnhVsb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":86,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The set of all points ","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"Z9sLMTAdPB"},{"type":"inlineMath","value":"(x,y)","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(x,y)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"DSGy9SS7vi"},{"type":"text","value":" satisfying ","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"gt7eEDDpTE"},{"type":"inlineMath","value":"0 \u003c x, y \u003c 1","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmo\u003e\u0026lt;\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo\u003e\u0026lt;\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e0 \u0026lt; x, y \u0026lt; 1\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7335em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"nmHif48kAG"},{"type":"text","value":" is called the ","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"uGdNsPkGND"},{"type":"strong","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"unit square","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"bLZ94pYf7d"}],"key":"FE49lbqkhp"}],"key":"Em4UtXVYVo"}],"key":"Izl8Jt2hUU"},{"type":"listItem","spread":true,"position":{"start":{"line":87,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Below we denote the unit square by ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"FSmWQk3m9r"},{"type":"inlineMath","value":"S","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eS\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eS\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"Bc1mvzoN9o"}],"key":"Ss7RPH4H4Y"}],"key":"h2rWrX4d5Y"}],"key":"yOAPtAmxwJ"}],"key":"LvaCW4xKYj"},{"type":"block","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"Preferences","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"GAgGGOrbx2"}],"identifier":"preferences","label":"Preferences","html_id":"preferences","implicit":true,"enumerator":"18.2.2","key":"nlqmRq4YFv"},{"type":"paragraph","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"We will say that an agent is ","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"zTPjrODWxB"},{"type":"emphasis","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"happy","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"KlDApYTqqO"}],"key":"eBBek3TjT4"},{"type":"text","value":" if 5 or more of her 10 nearest neighbors are of the same type.","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"yoiJRLJM3Q"}],"key":"WxElZbj2um"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"An agent who is not happy is called ","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"i8Su5LiuJ6"},{"type":"emphasis","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"unhappy","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"j3tUlaOJ4l"}],"key":"e97e4h2cur"},{"type":"text","value":".","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"PjUcSXggEs"}],"key":"Mx7jHeDYPX"},{"type":"paragraph","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"For example,","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"P6ToefF01u"}],"key":"dNSNVPIxyj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":99,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"if an agent is orange and 5 of her 10 nearest neighbors are orange, then she is happy.","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"KQBVKZmCmS"}],"key":"QCDd1IBITv"}],"key":"c5hDQbVMwn"},{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"if an agent is green and 8 of her 10 nearest neighbors are orange, then she is unhappy.","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"JW8eqhy0RQ"}],"key":"L2OIIumOok"}],"key":"xmwUjsjJgj"}],"key":"wa6pDvdbfT"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"‘Nearest’ is in terms of ","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"JCBRUdLUwd"},{"type":"link","url":"https://en.wikipedia.org/wiki/Euclidean_distance","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Euclidean distance","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"fWzISYtb0w"}],"urlSource":"https://en.wikipedia.org/wiki/Euclidean_distance","data":{"page":"Euclidean_distance","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"vzVk4AIO71"},{"type":"text","value":".","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"l6B9dHKxBa"}],"key":"dpJw1piYNp"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"An important point to note is that agents are ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"PIfbJCVU9g"},{"type":"strong","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"Z94bUOdijQ"}],"key":"nOBvZdhDg7"},{"type":"text","value":" averse to living in mixed areas.","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"xuLiQZUtoZ"}],"key":"XKFSzitCMi"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"They are perfectly happy if half of their neighbors are of the other color.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"ZkhzSkMbpP"}],"key":"kCCWXwyuho"}],"key":"sWV3xBKmgh"},{"type":"block","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"Behavior","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"C2tOqJI81M"}],"identifier":"behavior","label":"Behavior","html_id":"behavior","implicit":true,"enumerator":"18.2.3","key":"AuzOgsmMEB"},{"type":"paragraph","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"Initially, agents are mixed together (integrated).","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"njPbrUFSQL"}],"key":"pigbLaBmwi"},{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"In particular, we assume that the initial location of each agent is an\nindependent draw from a bivariate uniform distribution on the unit square ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"cZCYRMWMXb"},{"type":"inlineMath","value":"S","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eS\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eS\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"c2sn4e7p3X"},{"type":"text","value":".","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"kSZR9GDMXD"}],"key":"v2wEyOCpFI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":117,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"First their ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"iLKrNBpE76"},{"type":"inlineMath","value":"x","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ex\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ex\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"nbqkgS978e"},{"type":"text","value":" coordinate is drawn from a uniform distribution on ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"bPhPH4fGce"},{"type":"inlineMath","value":"(0,1)","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(0,1)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"GEjDP98xbA"}],"key":"VDPhGPgsi8"}],"key":"EEgLfFCmEK"},{"type":"listItem","spread":true,"position":{"start":{"line":118,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Then, independently, their ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"L4fDpxCtlM"},{"type":"inlineMath","value":"y","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ey\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ey\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"y4717ACotG"},{"type":"text","value":" coordinate is drawn from the same distribution.","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"pHh0VKPafm"}],"key":"qVITsgpxOF"}],"key":"elzslNRush"}],"key":"o3Oi4q6tLk"},{"type":"paragraph","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Now, cycling through the set of all agents, each agent is now given the chance to stay or move.","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"jMri1ak0Ir"}],"key":"Viouh8bphQ"},{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"Each agent stays if they are happy and moves if they are unhappy.","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"rMSE0ejp3d"}],"key":"H5rze7C6ug"},{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"The algorithm for moving is as follows","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"UBxsmsmDoP"}],"key":"ev8vXMPYtV"},{"type":"proof","kind":"algorithm","enumerated":true,"children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Jump Chain Algorithm","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"DR4gj4v0Og"}],"key":"lJp5XJ34j5"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":129,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Draw a random location in ","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"mDvMGZkPCe"},{"type":"inlineMath","value":"S","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eS\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eS\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"RTXc5UTohp"}],"key":"xTkMOGbxcA"}],"key":"x18biaVH8C"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If happy at new location, move there","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"iCslWPyLdc"}],"key":"uW9uZYQbGA"}],"key":"i4POIxXuBo"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Otherwise, go to step 1","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"jm4kk1HVoH"}],"key":"fEZSi9fvG7"}],"key":"tTdQIKCCFd"}],"key":"puFfAHd79M"}],"label":"move_algo","identifier":"move_algo","enumerator":"1","html_id":"move-algo","key":"cKgVjr3hUS"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"We cycle continuously through the agents, each time allowing an unhappy agent\nto move.","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"jcCpCnlIEk"}],"key":"KSOf37vGWR"},{"type":"paragraph","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"We continue to cycle until no one wishes to move.","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"sXsVWI3VRs"}],"key":"ZE2Gxi1KeW"}],"key":"Wv9wi9eTTV"},{"type":"block","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Results","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"kYEiDCO1pY"}],"identifier":"results","label":"Results","html_id":"results","implicit":true,"enumerator":"18.3","key":"TZNuUiIpPf"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Let’s now implement and run this simulation.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"uKvHuxo8tS"}],"key":"oMxJNBpOiJ"},{"type":"paragraph","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"In what follows, agents are modeled as ","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"r11n4ZQ56j"},{"type":"link","url":"https://python-programming.quantecon.org/python_oop.html","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"objects","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"RpR155J260"}],"urlSource":"https://python-programming.quantecon.org/python_oop.html","key":"GRUEWqC6Ou"},{"type":"text","value":".","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"QTn74BDK4G"}],"key":"XVHZA8KqZT"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Here’s an indication of their structure:","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"nPl6gE64aT"}],"key":"lBABoPlYQ5"},{"type":"code","lang":"none","value":"* Data:\n\n    * type (green or orange)\n    * location\n\n* Methods:\n\n    * determine whether happy or not given locations of other agents\n    * If not happy, move\n        * find a new location where happy","key":"oa3I2AUmjP"},{"type":"paragraph","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"Let’s build them.","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"rzc9zY0wtn"}],"key":"KWYbsMitAa"}],"key":"ddTSFVlhMh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Agent:\n\n    def __init__(self, type):\n        self.type = type\n        self.draw_location()\n\n    def draw_location(self):\n        self.location = uniform(0, 1), uniform(0, 1)\n\n    def get_distance(self, other):\n        \"Computes the euclidean distance between self and other agent.\"\n        a = (self.location[0] - other.location[0])**2\n        b = (self.location[1] - other.location[1])**2\n        return sqrt(a + b)\n\n    def happy(self,\n                agents,                # List of other agents\n                num_neighbors=10,      # No. of agents viewed as neighbors\n                require_same_type=5):  # How many neighbors must be same type\n        \"\"\"\n            True if a sufficient number of nearest neighbors are of the same\n            type.\n        \"\"\"\n\n        distances = []\n\n        # Distances is a list of pairs (d, agent), where d is distance from\n        # agent to self\n        for agent in agents:\n            if self != agent:\n                distance = self.get_distance(agent)\n                distances.append((distance, agent))\n\n        # Sort from smallest to largest, according to distance\n        distances.sort()\n\n        # Extract the neighboring agents\n        neighbors = [agent for d, agent in distances[:num_neighbors]]\n\n        # Count how many neighbors have the same type as self\n        num_same_type = sum(self.type == agent.type for agent in neighbors)\n        return num_same_type \u003e= require_same_type\n\n    def update(self, agents):\n        \"If not happy, then randomly choose new locations until happy.\"\n        while not self.happy(agents):\n            self.draw_location()","key":"NKd478QnJg"},{"type":"output","id":"IOEJbIGR4HrKyCu4T1RNx","data":[],"key":"nwSuNCmC6P"}],"key":"fbLZYo7xDD"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":215,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"Here’s some code that takes a list of agents and produces a plot showing their\nlocations on the unit square.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"Z4NHfmJYgv"}],"key":"NFlKyjigrb"},{"type":"paragraph","position":{"start":{"line":218,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"text","value":"Orange agents are represented by orange dots and green ones are represented by\ngreen dots.","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"EeVO7bd1an"}],"key":"QznRY32De2"}],"key":"rVRIYUPhaP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def plot_distribution(agents, cycle_num):\n    \"Plot the distribution of agents after cycle_num rounds of the loop.\"\n    x_values_0, y_values_0 = [], []\n    x_values_1, y_values_1 = [], []\n    # == Obtain locations of each type == #\n    for agent in agents:\n        x, y = agent.location\n        if agent.type == 0:\n            x_values_0.append(x)\n            y_values_0.append(y)\n        else:\n            x_values_1.append(x)\n            y_values_1.append(y)\n    fig, ax = plt.subplots()\n    plot_args = {'markersize': 8, 'alpha': 0.8}\n    ax.set_facecolor('azure')\n    ax.plot(x_values_0, y_values_0,\n        'o', markerfacecolor='orange', **plot_args)\n    ax.plot(x_values_1, y_values_1,\n        'o', markerfacecolor='green', **plot_args)\n    ax.set_title(f'Cycle {cycle_num-1}')\n    plt.show()","key":"YrG6T5Wq1C"},{"type":"output","id":"YWmpgw6H63yNfWxBDE92u","data":[],"key":"naX0VrU4H3"}],"key":"TcBcZInuHl"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":246,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"text","value":"And here’s some pseudocode for the main loop, where we cycle through the\nagents until no one wishes to move.","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"key":"s8LaJdvpaG"}],"key":"qVOGnkgK8H"},{"type":"paragraph","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"The pseudocode is","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"x0OHIOF5FO"}],"key":"OK1M4mj0hF"},{"type":"code","lang":"none","value":"plot the distribution\nwhile agents are still moving\n    for agent in agents\n        give agent the opportunity to move\nplot the distribution","key":"eJoqYSksaQ"},{"type":"paragraph","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"text","value":"The real code is below","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"JyOkL7XdbW"}],"key":"PMTZP3Xeri"}],"key":"vagnva2GW2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def run_simulation(num_of_type_0=600,\n                   num_of_type_1=600,\n                   max_iter=100_000,       # Maximum number of iterations\n                   set_seed=1234):\n\n    # Set the seed for reproducibility\n    seed(set_seed)\n\n    # Create a list of agents of type 0\n    agents = [Agent(0) for i in range(num_of_type_0)]\n    # Append a list of agents of type 1\n    agents.extend(Agent(1) for i in range(num_of_type_1))\n\n    # Initialize a counter\n    count = 1\n\n    # Plot the initial distribution\n    plot_distribution(agents, count)\n\n    # Loop until no agent wishes to move\n    while count \u003c max_iter:\n        print('Entering loop ', count)\n        count += 1\n        no_one_moved = True\n        for agent in agents:\n            old_location = agent.location\n            agent.update(agents)\n            if agent.location != old_location:\n                no_one_moved = False\n        if no_one_moved:\n            break\n\n    # Plot final distribution\n    plot_distribution(agents, count)\n\n    if count \u003c max_iter:\n        print(f'Converged after {count} iterations.')\n    else:\n        print('Hit iteration bound and terminated.')","key":"mKeuZBeAsR"},{"type":"output","id":"ERH1a_NSuL_loMHkE_Qwr","data":[],"key":"gLtumhr6Eo"}],"key":"Vk8hLVrtsM"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the results.","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"key":"KLrUS1Gdgq"}],"key":"PiNtrhIPQa"}],"key":"wPWtN2gIjX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"run_simulation()","key":"M9TkcSBdGz"},{"type":"output","id":"fnymkZmRIjm5K60t-oEaT","data":[],"key":"r6lJkcxOJQ"}],"key":"pDmGPG1sMs"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"text","value":"As discussed above, agents are initially mixed randomly together.","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"l34Dlj4RAz"}],"key":"rtzG9Axqw2"},{"type":"paragraph","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"children":[{"type":"text","value":"But after several cycles, they become segregated into distinct regions.","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"WQtQVSCoR6"}],"key":"jA0IVisE7N"},{"type":"paragraph","position":{"start":{"line":314,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"In this instance, the program terminated after a small number of cycles\nthrough the set of agents, indicating that all agents had reached a state of\nhappiness.","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"sRtpMhZgvk"}],"key":"LnjboB3gdp"},{"type":"paragraph","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"What is striking about the pictures is how rapidly racial integration breaks down.","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"PYnfc5isQO"}],"key":"DQrnPlI7kJ"},{"type":"paragraph","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"This is despite the fact that people in the model don’t actually mind living mixed with the other type.","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"auQy68lMhR"}],"key":"c2Kqc7eMEV"},{"type":"paragraph","position":{"start":{"line":322,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"text","value":"Even with these preferences, the outcome is a high degree of segregation.","position":{"start":{"line":322,"column":1},"end":{"line":322,"column":1}},"key":"YFvEn0SjGb"}],"key":"w7obP8AhUu"},{"type":"heading","depth":2,"position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"key":"Cu24nZQs2w"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"enumerator":"18.4","key":"K3bhmBvtSY"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":332,"column":1},"end":{"line":334,"column":1}},"children":[{"type":"text","value":"The object oriented style that we used for coding above is neat but harder to\noptimize than procedural code (i.e., code based around functions rather than\nobjects and methods).","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"SQD0AZWEKt"}],"key":"DI9aZ02mfa"},{"type":"paragraph","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"children":[{"type":"text","value":"Try writing a new version of the model that stores","position":{"start":{"line":336,"column":1},"end":{"line":336,"column":1}},"key":"ZtireonV2I"}],"key":"lM2MumkIyf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":338,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":338,"column":1},"end":{"line":338,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the locations of all agents as a 2D NumPy array of floats.","position":{"start":{"line":338,"column":1},"end":{"line":338,"column":1}},"key":"cwwkiJVZPS"}],"key":"sTzPIs1fWE"}],"key":"qDofWlqkCG"},{"type":"listItem","spread":true,"position":{"start":{"line":339,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the types of all agents as a flat NumPy array of integers.","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"LCU6D6tgPa"}],"key":"qdZZ1HjJ1Y"}],"key":"VJfbqsEWjy"}],"key":"ddXWgH8QIt"},{"type":"paragraph","position":{"start":{"line":341,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"text","value":"Write functions that act on this data to update the model using the logic\nsimilar to that described above.","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"W1BO6beU8J"}],"key":"wZDmwx3E6M"},{"type":"paragraph","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"However, implement the following two changes:","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"MluXXEjsJt"}],"key":"mv1rNFiO4O"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":346,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":346,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Agents are offered a move at random (i.e., selected randomly and given the\nopportunity to move).","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"key":"XJOsxhVZRN"}],"key":"Uyi2thgjik"}],"key":"hC0u4lh5GE"},{"type":"listItem","spread":true,"position":{"start":{"line":348,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"After an agent has moved, flip their type with probability 0.01","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"key":"ogLMODqSEO"}],"key":"BjL9c3TAcd"}],"key":"GFcxPfwvbi"}],"key":"O8GUTjcKgI"},{"type":"paragraph","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"The second change introduces extra randomness into the model.","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"pF626yFckw"}],"key":"TyKKAQU3ks"},{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"(We can imagine that, every so often, an agent moves to a different city and,\nwith small probability, is replaced by an agent of the other type.)","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"FDPVeWr6iB"}],"key":"QUwCE9nBoF"}],"label":"schelling_ex1","identifier":"schelling_ex1","enumerated":true,"enumerator":"1","html_id":"schelling-ex1","key":"ACiDB1DhvS"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"BlqoyIfFOK"},{"type":"crossReference","label":"schelling_ex1","identifier":"schelling_ex1","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"YRRccDv83r"},{"type":"text","value":"1","key":"F4IKIcZVzJ"}],"template":"Exercise %s","enumerator":"1","resolved":true,"html_id":"schelling-ex1","key":"C8Fe9hXQbz"}],"key":"QKUhcGSuhF"}],"class":"dropdown","key":"D8ZT6c4tV3"},{"type":"paragraph","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"solution here","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"j2cmWhjhYl"}],"key":"DYzJFYusPw"}],"key":"A1iLPUrwmM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from numpy.random import uniform, randint\n\nn = 1000                # number of agents (agents = 0, ..., n-1)\nk = 10                  # number of agents regarded as neighbors\nrequire_same_type = 5   # want \u003e= require_same_type neighbors of the same type\n\ndef initialize_state():\n    locations = uniform(size=(n, 2))\n    types = randint(0, high=2, size=n)   # label zero or one\n    return locations, types\n\n\ndef compute_distances_from_loc(loc, locations):\n    \"\"\" Compute distance from location loc to all other points. \"\"\"\n    return np.linalg.norm(loc - locations, axis=1)\n\ndef get_neighbors(loc, locations):\n    \" Get all neighbors of a given location. \"\n    all_distances = compute_distances_from_loc(loc, locations)\n    indices = np.argsort(all_distances)   # sort agents by distance to loc\n    neighbors = indices[:k]               # keep the k closest ones\n    return neighbors\n\ndef is_happy(i, locations, types):\n    happy = True\n    agent_loc = locations[i, :]\n    agent_type = types[i]\n    neighbors = get_neighbors(agent_loc, locations)\n    neighbor_types = types[neighbors]\n    if sum(neighbor_types == agent_type) \u003c require_same_type:\n        happy = False\n    return happy\n\ndef count_happy(locations, types):\n    \" Count the number of happy agents. \"\n    happy_sum = 0\n    for i in range(n):\n        happy_sum += is_happy(i, locations, types)\n    return happy_sum\n\ndef update_agent(i, locations, types):\n    \" Move agent if unhappy. \"\n    moved = False\n    while not is_happy(i, locations, types):\n        moved = True\n        locations[i, :] = uniform(), uniform()\n    return moved\n\ndef plot_distribution(locations, types, title, savepdf=False):\n    \" Plot the distribution of agents after cycle_num rounds of the loop.\"\n    fig, ax = plt.subplots()\n    colors = 'orange', 'green'\n    for agent_type, color in zip((0, 1), colors):\n        idx = (types == agent_type)\n        ax.plot(locations[idx, 0],\n                locations[idx, 1],\n                'o',\n                markersize=8,\n                markerfacecolor=color,\n                alpha=0.8)\n    ax.set_title(title)\n    plt.show()\n\ndef sim_random_select(max_iter=100_000, flip_prob=0.01, test_freq=10_000):\n    \"\"\"\n    Simulate by randomly selecting one household at each update.\n\n    Flip the color of the household with probability `flip_prob`.\n\n    \"\"\"\n\n    locations, types = initialize_state()\n    current_iter = 0\n\n    while current_iter \u003c= max_iter:\n\n        # Choose a random agent and update them\n        i = randint(0, n)\n        moved = update_agent(i, locations, types)\n\n        if flip_prob \u003e 0:\n            # flip agent i's type with probability epsilon\n            U = uniform()\n            if U \u003c flip_prob:\n                current_type = types[i]\n                types[i] = 0 if current_type == 1 else 1\n\n        # Every so many updates, plot and test for convergence\n        if current_iter % test_freq == 0:\n            cycle = current_iter / n\n            plot_distribution(locations, types, f'iteration {current_iter}')\n            if count_happy(locations, types) == n:\n                print(f\"Converged at iteration {current_iter}\")\n                break\n\n        current_iter += 1\n\n    if current_iter \u003e max_iter:\n        print(f\"Terminating at iteration {current_iter}\")","key":"bUsekSIHRk"},{"type":"output","id":"WiZNv_5Bi5rt-QsinFbHT","data":[],"key":"RVT61cy8RY"}],"key":"M2CGeUC0wb"},{"type":"block","children":[{"type":"mystDirectiveError","name":"solution","position":{"start":{"line":465,"column":1},"end":{"line":466,"column":1}},"message":"required argument not provided for directive: solution","key":"GNQhzc9rFV"}],"key":"suONDlNhXF"},{"type":"block","position":{"start":{"line":468,"column":1},"end":{"line":468,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"text","value":"When we run this we again find that mixed neighborhoods break down and segregation emerges.","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"key":"qi67dZDomV"}],"key":"KIoq6HLFA3"},{"type":"paragraph","position":{"start":{"line":472,"column":1},"end":{"line":472,"column":1}},"children":[{"type":"text","value":"Here’s a sample run.","position":{"start":{"line":472,"column":1},"end":{"line":472,"column":1}},"key":"FlAiRbpmZD"}],"key":"ClG5j8Z022"}],"key":"lM0ox8pDKU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sim_random_select(max_iter=50_000, flip_prob=0.01, test_freq=10_000)","key":"oQRr3cVjex"},{"type":"output","id":"SfOdcGKrwBvTRUnNgpKhf","data":[],"key":"WoDDysVNEQ"}],"key":"pwgQ0iYwwa"},{"type":"block","children":[],"key":"v10wmUzHV0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"gPWiQIrAo5"},{"type":"output","id":"McvgzZdZ5ZlnU7Y_xNIup","data":[],"key":"ywYcK8en6l"}],"key":"ONCRif87cR"}],"key":"yX6w27erkE"},"references":{"cite":{"order":["Schelling1969"],"data":{"Schelling1969":{"label":"Schelling1969","enumerator":"1","html":"Schelling, T. C. (1969). Models of Segregation. \u003ci\u003eAmerican Economic Review\u003c/i\u003e, \u003ci\u003e59\u003c/i\u003e(2), 488–493."}}}},"footer":{"navigation":{"prev":{"title":"Monte Carlo and Option Pricing","url":"/monte-carlo","group":"Probability and Distributions"},"next":{"title":"Dynamics in One Dimension","url":"/scalar-dynam","group":"Nonlinear Dynamics"}}},"domain":"http://localhost:3000"},"project":{"numbering":{"title":{"enabled":true},"heading_1":{"enabled":false},"figure":{"template":"Fig. %s","enabled":true},"heading_2":{"enabled":true},"heading_3":{"enabled":true},"heading_4":{"enabled":true},"heading_5":{"enabled":true},"heading_6":{"enabled":true}},"title":"A First Course in Quantitative Economics with Python - WASM","authors":[{"nameParsed":{"literal":"Thomas J. Sargent","given":"Thomas J.","family":"Sargent"},"name":"Thomas J. Sargent","affiliations":["Professor of Economics, New York University.","Senior Fellow, Hoover Institution, Stanford, CA."],"url":"http://www.tomsargent.com","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"John Stachurski","given":"John","family":"Stachurski"},"name":"John Stachurski","email":"john.stachurski@gmail.com","affiliations":["Professor, Research School of Economics, ANU.","Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."],"url":"https://johnstachurski.net","id":"contributors-myst-generated-uid-1","corresponding":true}],"github":"https://github.com/QuantEcon/project.lecture-wasm","affiliations":[{"id":"Professor of Economics, New York University.","name":"Professor of Economics, New York University."},{"id":"Senior Fellow, Hoover Institution, Stanford, CA.","name":"Senior Fellow, Hoover Institution, Stanford, CA."},{"id":"Professor, Research School of Economics, ANU.","name":"Professor, Research School of Economics, ANU."},{"id":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota.","name":"Instructor for Ph.D. Advanced Macroeconomics, University of Minnesota."}],"thebe":{"lite":true},"toc":[{"file":"intro.md"},{"children":[{"file":"long_run_growth"},{"file":"inflation_history"},{"file":"french_rev"}],"title":"Economic Data"},{"children":[{"file":"intro_supply_demand"},{"file":"linear_equations"},{"file":"complex_and_trig"},{"file":"geom_series"}],"title":"Foundations"},{"children":[{"file":"pv"},{"file":"cons_smooth"},{"file":"tax_smooth"},{"file":"equalizing_difference"},{"file":"cagan_ree"},{"file":"cagan_adaptive"}],"title":"Linear Dynamics: Finite Horizons"},{"children":[{"file":"eigen_I"},{"file":"greek_square"}],"title":"Linear Dynamics: Infinite Horizons"},{"children":[{"file":"lln_clt"},{"file":"monte_carlo"},{"file":"schelling"}],"title":"Probability and Distributions"},{"children":[{"file":"scalar_dynam"},{"file":"solow"},{"file":"cobweb"},{"file":"olg"}],"title":"Nonlinear Dynamics"},{"children":[{"file":"money_inflation"},{"file":"unpleasant"},{"file":"money_inflation_nonlinear"},{"file":"laffer_adaptive"}],"title":"Monetary-Fiscal Policy Interactions"},{"children":[{"file":"ar1_processes"},{"file":"markov_chains_I"},{"file":"markov_chains_II"},{"file":"time_series_with_matrices"}],"title":"Stochastic Dynamics"},{"children":[{"file":"short_path"}],"title":"Optimization"},{"children":[{"file":"eigen_II"},{"file":"lake_model"},{"file":"networks"}],"title":"Modeling in Higher Dimensions"},{"children":[{"file":"supply_demand_multiple_goods"},{"file":"supply_demand_heterogeneity"}],"title":"Markets and Competitive Equilibrium"},{"children":[{"file":"simple_linear_regression"},{"file":"mle"}],"title":"Estimation"},{"children":[{"file":"troubleshooting"},{"file":"zreferences"},{"file":"status"}],"title":"Other"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Economic Data"},{"slug":"long-run-growth","title":"Long-Run Growth","description":"","date":"","thumbnail":"/build/tooze_ch1_graph-ecd86e93f7b16170a0056e27c9c1aa40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"1"},{"slug":"inflation-history","title":"Price Level Histories","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"2"},{"slug":"french-rev","title":"Inflation During French Revolution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"3"},{"level":1,"title":"Foundations"},{"slug":"intro-supply-demand","title":"Introduction to Supply and Demand","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"4"},{"slug":"linear-equations","title":"Linear Equations and Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"5"},{"slug":"complex-and-trig","title":"Complex Numbers and Trigonometry","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"6"},{"slug":"geom-series","title":"Geometric Series for Elementary Economics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"7"},{"level":1,"title":"Linear Dynamics: Finite Horizons"},{"slug":"pv","title":"Present Values","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"8"},{"slug":"cons-smooth","title":"Consumption Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"9"},{"slug":"tax-smooth","title":"Tax Smoothing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"10"},{"slug":"equalizing-difference","title":"Equalizing Difference Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"11"},{"slug":"cagan-ree","title":"A Monetarist Theory of Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"12"},{"slug":"cagan-adaptive","title":"Monetarist Theory of Price Levels with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"13"},{"level":1,"title":"Linear Dynamics: Infinite Horizons"},{"slug":"eigen-i","title":"Eigenvalues and Eigenvectors","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"14"},{"slug":"greek-square","title":"Computing Square Roots","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"15"},{"level":1,"title":"Probability and Distributions"},{"slug":"lln-clt","title":"LLN and CLT","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"16"},{"slug":"monte-carlo","title":"Monte Carlo and Option Pricing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"17"},{"slug":"schelling","title":"Racial Segregation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"18"},{"level":1,"title":"Nonlinear Dynamics"},{"slug":"scalar-dynam","title":"Dynamics in One Dimension","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"19"},{"slug":"solow","title":"The Solow-Swan Growth Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"20"},{"slug":"cobweb","title":"The Cobweb Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"21"},{"slug":"olg","title":"The Overlapping Generations Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"22"},{"level":1,"title":"Monetary-Fiscal Policy Interactions"},{"slug":"money-inflation","title":"Money Financed Government Deficits and Price Levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"23"},{"slug":"unpleasant","title":"Some Unpleasant Monetarist Arithmetic","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"24"},{"slug":"money-inflation-nonlinear","title":"Inflation Rate Laffer Curves","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"25"},{"slug":"laffer-adaptive","title":"Laffer Curves  with Adaptive Expectations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"26"},{"level":1,"title":"Stochastic Dynamics"},{"slug":"ar1-processes","title":"AR(1) Processes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"27"},{"slug":"markov-chains-i","title":"Markov Chains: Basic Concepts","description":"","date":"","thumbnail":"/build/Hamilton-5d67b7332274ee2e86b3321cbc0479ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"28"},{"slug":"markov-chains-ii","title":"Markov Chains: Irreducibility and Ergodicity","description":"","date":"","thumbnail":"/build/Irre_1-3632842ed19e1f995452a07236c381c8.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"29"},{"slug":"time-series-with-matrices","title":"Univariate Time Series with Matrix Algebra","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"30"},{"level":1,"title":"Optimization"},{"slug":"short-path","title":"Shortest Paths","description":"","date":"","thumbnail":"/build/graph-79e7897e3b02e2a71a96078773c21293.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Modeling in Higher Dimensions"},{"slug":"eigen-ii","title":"The Perron-Frobenius Theorem","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"32"},{"slug":"lake-model","title":"A Lake Model of Employment","description":"","date":"","thumbnail":"/build/lake_model_worker-b3f282004a1484cdfda2b5a980f6e35f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"33"},{"slug":"networks","title":"Networks","description":"","date":"","thumbnail":"/build/mc-e3cbbcfaf4868d26040beee835a43db1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"34"},{"level":1,"title":"Markets and Competitive Equilibrium"},{"slug":"supply-demand-multiple-goods","title":"Supply and Demand with Many Goods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"35"},{"slug":"supply-demand-heterogeneity","title":"Market Equilibrium with Heterogeneity","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"36"},{"level":1,"title":"Estimation"},{"slug":"simple-linear-regression","title":"Simple Linear Regression Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"37"},{"slug":"mle","title":"Maximum Likelihood Estimation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"38"},{"level":1,"title":"Other"},{"slug":"troubleshooting","title":"Troubleshooting","description":"","date":"","thumbnail":"/build/launch-2d0137cc733cbf46ea1397b1df46c427.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"39"},{"slug":"zreferences","title":"References","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"40"},{"slug":"status","title":"Execution Statistics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2,"enumerator":"41"}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-52DC5251.js";
import * as route0 from "/build/root-C4PF63RT.js";
import * as route1 from "/build/routes/$-EQ4SYB3X.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-3X3CRHXZ.js");</script></body></html>